"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[3912],{27042:function(e,a,t){t.d(a,{Q:function(){return k}});var r=t(68248),n=t(76118),o=t(46709),s=t(27757),l=t(79081),i=t(74060),d=t(7655),c=t(40724),u=t(884),m=t(73408);var g={name:"4zleql",styles:"display:block"};function p(e){return a=>function(e,a){const t=(0,d.A)(),{theme:l}=(0,s.u)(),c=e.props.searchValue.toLowerCase();return(0,o.useMemo)((()=>{if(!c)return e;if((0,n.sortedIndexOf)(a,c)>=0)return e;const s=/^[^,.:/=\-\s]+$/.test(c);return o.cloneElement(e,{flattenOptions:[{data:{value:c,disabled:!s,style:{color:s?l.colors.actionTertiaryTextDefault:l.colors.actionDisabledText},children:(0,m.Y)(i.LegacyTooltip,{title:s?void 0:t.formatMessage({id:"fWEvZL",defaultMessage:", . : / - = and blank spaces are not allowed"}),placement:"right",children:(0,m.FD)("span",{css:g,children:[(0,m.Y)(i.PlusIcon,{css:(0,r.AH)({marginRight:l.spacing.sm},"")}),t.formatMessage({id:"IJbauF",defaultMessage:'Add tag "{tagKey}"'},{tagKey:c})]})})},key:c,groupOption:!1},...e.props.flattenOptions]})}),[a,e,c,t,l])}(a,e)}var f={name:"1d3w5wq",styles:"width:100%"};function v({allAvailableTags:e,control:a,onKeyChangeCallback:t}){const r=(0,d.A)(),[n,s]=(0,o.useState)(!1),l=(0,o.useRef)(null),{field:c,fieldState:g}=(0,u.as)({control:a,name:"key",rules:{required:{message:r.formatMessage({id:"RlBbjb",defaultMessage:"A tag key is required"}),value:!0}}});return(0,m.Y)(i.LegacySelect,{allowClear:!0,ref:l,dangerouslySetAntdProps:{showSearch:!0,dropdownRender:p(e)},css:f,placeholder:r.formatMessage({id:"8ALhnh",defaultMessage:"Type a key"}),value:c.value,defaultValue:c.value,open:n,onDropdownVisibleChange:e=>{s(e)},filterOption:(e,a)=>null===a||void 0===a?void 0:a.value.toLowerCase().includes(e.toLowerCase()),onSelect:e=>{c.onChange(e),null===t||void 0===t||t(e)},onClear:()=>{c.onChange(void 0),null===t||void 0===t||t(void 0)},validationState:g.error?"error":void 0,children:e.map((e=>(0,m.Y)(i.LegacySelect.Option,{value:e,children:e},e)))})}var h=t(59281),y=t(77153);function w(e){return new Map(e.map((e=>[e.key,e])))}var M={name:"82a6rk",styles:"flex:1"},_={name:"82a6rk",styles:"flex:1"};const k=({onSuccess:e,saveTagsHandler:a,allAvailableTags:t,valueRequired:g=!1,title:p})=>{const f=(0,o.useRef)(),[k,Y]=(0,o.useState)(""),{theme:x}=(0,s.u)(),[b,A]=(0,o.useState)(new Map),[C,P]=(0,o.useState)(new Map),[F,S]=(0,o.useState)(!1),I=(0,u.mN)({defaultValues:{key:void 0,value:""}}),R=()=>S(!1),V=(0,o.useCallback)((e=>{f.current=e,A(w(e.tags||[])),P(w(e.tags||[])),I.reset(),S(!0)}),[I]),L=async()=>{f.current&&(Y(""),N(!0),a(f.current,Array.from(b.values()),Array.from(C.values())).then((()=>{R(),null===e||void 0===e||e(),N(!1)})).catch((e=>{var a;N(!1),Y(e instanceof y.s?null===(a=e.getUserVisibleError())||void 0===a?void 0:a.message:e.message)})))},D=(0,d.A)(),E=I.watch(),[K,N]=(0,o.useState)(!1),H=(0,o.useMemo)((()=>!(0,n.isEqual)((0,n.sortBy)(Array.from(b.values()),"key"),(0,n.sortBy)(Array.from(C.values()),"key"))),[b,C]),B=E.key||E.value,q=H&&B;return{EditTagsModal:(0,m.FD)(l.d,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_135",destroyOnClose:!0,visible:F,title:null!==p&&void 0!==p?p:(0,m.Y)(c.A,{id:"TBX+Gs",defaultMessage:"Add/Edit tags"}),onCancel:R,footer:(0,m.FD)(s.x,{children:[(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_147",dangerouslyUseFocusPseudoClass:!0,onClick:R,css:(0,r.AH)({marginRight:H?0:x.spacing.sm},""),children:D.formatMessage({id:"2a/rR8",defaultMessage:"Cancel"})}),q?(0,m.Y)(T,{formValues:E,isLoading:K,onSaveTask:L}):(0,m.Y)(i.LegacyTooltip,{title:H?void 0:D.formatMessage({id:"16onEc",defaultMessage:"Please add or remove one or more tags before saving"}),children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_174",dangerouslyUseFocusPseudoClass:!0,disabled:!H,loading:K,type:"primary",onClick:L,children:D.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})})]}),children:[(0,m.FD)("form",{onSubmit:I.handleSubmit((()=>{if(g&&!E.value.trim())return;const e=new Map(C);e.set(E.key,E),P(e),I.reset()})),css:(0,r.AH)({display:"flex",alignItems:"flex-end",gap:x.spacing.md},""),children:[(0,m.FD)("div",{css:(0,r.AH)({minWidth:0,display:"flex",gap:x.spacing.md,flex:1},""),children:[(0,m.FD)("div",{css:M,children:[(0,m.Y)(i.FormUI.Label,{htmlFor:"key",children:D.formatMessage({id:"crTWax",defaultMessage:"Key"})}),(0,m.Y)(v,{allAvailableTags:t||[],control:I.control,onKeyChangeCallback:e=>{var a;const t=e?C.get(e):void 0;I.setValue("value",null!==(a=null===t||void 0===t?void 0:t.value)&&void 0!==a?a:"")}})]}),(0,m.FD)("div",{css:_,children:[(0,m.Y)(i.FormUI.Label,{htmlFor:"value",children:g?D.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):D.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"})}),(0,m.Y)(i.RHFControlledComponents.Input,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_223",name:"value",control:I.control,"aria-label":g?D.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):D.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"}),placeholder:D.formatMessage({id:"FFe+Ug",defaultMessage:"Type a value"})})]})]}),(0,m.Y)(i.LegacyTooltip,{title:D.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_248",htmlType:"submit","aria-label":D.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,m.Y)(i.PlusIcon,{})})})]}),k&&(0,m.Y)(i.FormUI.Message,{type:"error",message:k}),(0,m.Y)("div",{css:(0,r.AH)({display:"flex",rowGap:x.spacing.xs,flexWrap:"wrap",marginTop:x.spacing.sm},""),children:Array.from(C.values()).map((e=>(0,m.Y)(h.t,{isClosable:!0,tag:e,onClose:()=>(({key:e})=>{P((a=>(a.delete(e),new Map(a))))})(e)},e.key)))})]}),showEditTagsModal:V,isLoading:K}};var Y={name:"1y0ex1",styles:"max-width:400px"};function T({isLoading:e,formValues:a,onSaveTask:t}){const o=(0,d.A)(),{theme:l}=(0,s.u)(),i=`${`${(0,n.truncate)(a.key,{length:20})||"_"}`}${a.value?`:${(0,n.truncate)(a.value,{length:20})}`:""}`,c=o.formatMessage({id:"wcSVYI",defaultMessage:'Are you sure you want to save and close without adding "{tag}"'},{tag:i});return(0,m.FD)(s.aw.Root,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_309",children:[(0,m.Y)(s.aw.Trigger,{asChild:!0,children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_306",dangerouslyUseFocusPseudoClass:!0,loading:e,type:"primary",children:o.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})}),(0,m.FD)(s.aw.Content,{align:"end","aria-label":c,children:[(0,m.Y)(s.T.Paragraph,{css:Y,children:c}),(0,m.Y)(s.aw.Close,{asChild:!0,children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_316",onClick:t,children:o.formatMessage({id:"mv6CY3",defaultMessage:"Yes, save and close"})})}),(0,m.Y)(s.aw.Close,{asChild:!0,children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_324",type:"primary",css:(0,r.AH)({marginLeft:l.spacing.sm},""),children:o.formatMessage({id:"geizp1",defaultMessage:"Cancel"})})}),(0,m.Y)(s.aw.Arrow,{})]})]})}},27556:function(e,a,t){t.d(a,{YQ:function(){return n},d7:function(){return s}});var r=t(46709);function n(e,a,t){var n=this,o=(0,r.useRef)(null),s=(0,r.useRef)(0),l=(0,r.useRef)(null),i=(0,r.useRef)([]),d=(0,r.useRef)(),c=(0,r.useRef)(),u=(0,r.useRef)(e),m=(0,r.useRef)(!0);u.current=e;var g="undefined"!=typeof window,p=!a&&0!==a&&g;if("function"!=typeof e)throw new TypeError("Expected a function");a=+a||0;var f=!!(t=t||{}).leading,v=!("trailing"in t)||!!t.trailing,h="maxWait"in t,y="debounceOnServer"in t&&!!t.debounceOnServer,w=h?Math.max(+t.maxWait||0,a):null;(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var M=(0,r.useMemo)((function(){var e=function(e){var a=i.current,t=d.current;return i.current=d.current=null,s.current=e,c.current=u.current.apply(t,a)},t=function(e,a){p&&cancelAnimationFrame(l.current),l.current=p?requestAnimationFrame(e):setTimeout(e,a)},r=function(e){if(!m.current)return!1;var t=e-o.current;return!o.current||t>=a||t<0||h&&e-s.current>=w},M=function(a){return l.current=null,v&&i.current?e(a):(i.current=d.current=null,c.current)},_=function e(){var n=Date.now();if(r(n))return M(n);if(m.current){var l=a-(n-o.current),i=h?Math.min(l,w-(n-s.current)):l;t(e,i)}},k=function(){if(g||y){var u=Date.now(),p=r(u);if(i.current=[].slice.call(arguments),d.current=n,o.current=u,p){if(!l.current&&m.current)return s.current=o.current,t(_,a),f?e(o.current):c.current;if(h)return t(_,a),e(o.current)}return l.current||t(_,a),c.current}};return k.cancel=function(){l.current&&(p?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,i.current=o.current=d.current=l.current=null},k.isPending=function(){return!!l.current},k.flush=function(){return l.current?M(Date.now()):c.current},k}),[f,h,a,w,v,p,g,y]);return M}function o(e,a){return e===a}function s(e,a,t){var s=t&&t.equalityFn||o,l=(0,r.useRef)(e),i=(0,r.useState)({})[1],d=n((0,r.useCallback)((function(e){l.current=e,i({})}),[i]),a,t),c=(0,r.useRef)(e);return s(c.current,e)||(d(e),c.current=e),[l.current,d]}},29125:function(e,a,t){t.d(a,{q:function(){return s}});var r=t(27757),n=t(40724),o=t(73408);const s=({row:{original:e},getValue:a})=>{const t=a();return t?(0,o.Y)(r.T.Text,{children:(0,o.Y)(n.A,{id:"sM0MBJ",defaultMessage:"Version {version}",values:{version:t}})}):null}},59281:function(e,a,t){t.d(a,{t:function(){return v}});var r=t(68248),n=t(74060),o=t(27757),s=t(46709),l=t(7655),i=t(79081),d=t(91701),c=t(73408);const{Paragraph:u}=o.T;var m={name:"zjik7",styles:"display:flex"},g={name:"1ff36h2",styles:"flex-grow:1"};const p=s.memo((e=>{const{theme:a}=(0,o.u)();return(0,c.Y)(i.d,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetagfullviewmodal.tsx_17",title:"Tag: "+e.tagKey,visible:e.isKeyValueTagFullViewModalVisible,onCancel:()=>e.setIsKeyValueTagFullViewModalVisible(!1),children:(0,c.FD)("div",{css:m,children:[(0,c.Y)(u,{css:g,children:(0,c.Y)("pre",{css:(0,r.AH)({backgroundColor:a.colors.backgroundPrimary,marginTop:a.spacing.sm,whiteSpace:"pre-wrap",wordBreak:"break-all"},""),children:e.tagValue})}),(0,c.Y)("div",{css:(0,r.AH)({marginTop:a.spacing.sm},""),children:(0,c.Y)(d.i,{copyText:e.tagValue,showLabel:!1,icon:(0,c.Y)(n.CopyIcon,{}),"aria-label":"Copy"})})]})})}));function f(e=!0){return e?{overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}}const v=({isClosable:e=!1,onClose:a,tag:t,enableFullViewModal:i=!1,charLimit:d=30,maxWidth:u=300,className:m})=>{const g=(0,l.A)(),[v,h]=(0,s.useState)(!1),{shouldTruncateKey:y,shouldTruncateValue:w}=function(e,a=30){const{key:t,value:r}=e,n=t.length+r.length,o=t.length>r.length,s=o?r.length:t.length;return n<=a?{shouldTruncateKey:!1,shouldTruncateValue:!1}:s>a/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:o,shouldTruncateValue:!o}}(t,d),M=i&&(y||w),_=g.formatMessage({id:"ZXUtU8",defaultMessage:"Click to see more"});return(0,c.FD)("div",{children:[(0,c.Y)(n.Tag,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetag.tsx_60",closable:e,onClose:a,title:t.key,className:m,children:(0,c.Y)(n.LegacyTooltip,{title:M?_:"",children:(0,c.FD)("span",{css:(0,r.AH)({maxWidth:u,display:"inline-flex"},""),onClick:()=>M?h(!0):void 0,children:[(0,c.Y)(o.T.Text,{bold:!0,title:t.key,css:f(y),children:t.key}),t.value&&(0,c.FD)(o.T.Text,{title:t.value,css:f(w),children:[": ",t.value]})]})})}),(0,c.Y)("div",{children:v&&(0,c.Y)(p,{tagKey:t.key,tagValue:t.value,isKeyValueTagFullViewModalVisible:v,setIsKeyValueTagFullViewModalVisible:h})})]})}},60312:function(e,a,t){t.d(a,{m:function(){return s}});var r=t(74060),n=t(73408);var o={name:"13udsys",styles:"height:100%"};const s=({children:e,className:a})=>(0,n.Y)(r.PageWrapper,{css:o,className:a,children:e})},68079:function(e,a,t){t.d(a,{u:function(){return d}});var r=t(74060),n=t(27757),o=t(40724),s=t(60312),l=t(73408);var i={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const d=({error:e})=>{var a;return(0,l.Y)(s.m,{css:i,children:(0,l.Y)(r.Empty,{"data-testid":"fallback",title:(0,l.Y)(o.A,{id:"AOoWxS",defaultMessage:"Error"}),description:null!==(a=null===e||void 0===e?void 0:e.message)&&void 0!==a?a:(0,l.Y)(o.A,{id:"zmMR5p",defaultMessage:"An error occurred while rendering this component."}),image:(0,l.Y)(n.k,{})})})}},73227:function(e,a,t){t.d(a,{i:function(){return i}});var r=t(61060),n=t(27042),o=t(59795),s=t(46709),l=t(181);const i=({onSuccess:e})=>{const a=(0,r.n)({mutationFn:async({toAdd:e,toDelete:a,promptId:t})=>Promise.all([...e.map((({key:e,value:a})=>o.M.setRegisteredPromptTag(t,e,a))),...a.map((({key:e})=>o.M.deleteRegisteredPromptTag(t,e)))])}),{EditTagsModal:t,showEditTagsModal:i,isLoading:d}=(0,n.Q)({valueRequired:!0,saveTagsHandler:(t,r,n)=>{const{addedOrModifiedTags:o,deletedTags:s}=(0,l.Rf)(r,n);return new Promise(((r,n)=>{if(!t.name)return n();a.mutate({promptId:t.name,toAdd:o,toDelete:s},{onSuccess:()=>{r(),null===e||void 0===e||e()},onError:n})}))}});return{EditTagsModal:t,showEditPromptTagsModal:(0,s.useCallback)((e=>i({name:e.name,tags:e.tags.filter((e=>(0,l.oD)(e.key)))})),[i]),isLoading:d}}},83912:function(e,a,t){t.r(a),t.d(a,{default:function(){return H}});var r=t(60312),n=t(49708),o=t(46709),s=t(59795);const l=({queryKey:e})=>{const[,{searchFilter:a,pageToken:t}]=e;return s.M.listRegisteredPrompts(a,t)};var i=t(79081),d=t(74060),c=t(27757),u=t(40724),m=t(73408);const g=({searchFilter:e,onSearchFilterChange:a})=>(0,m.Y)(d.TableFilterLayout,{children:(0,m.Y)(d.TableFilterInput,{placeholder:"Search prompts by name",componentId:"mlflow.prompts.list.search",value:e,onChange:e=>a(e.target.value)})});var p=t(68248),f=t(43617),v=t(90061),h=t(7655),y=t(181),w=t(59281);var M={name:"zjik7",styles:"display:flex"},_={name:"tyk0n8",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex"},k={name:"14cnl6e",styles:"flex-shrink:0;opacity:0;[role=row]:hover &{opacity:1;}[role=row]:focus-within &{opacity:1;}"};const Y=({row:{original:e},table:{options:{meta:a}}})=>{var t;const r=(0,h.A)(),{onEditTags:n}=a,o=(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.filter((e=>(0,y.oD)(e.key))))||[],s=o.length>0;return(0,m.FD)("div",{css:M,children:[(0,m.Y)("div",{css:_,children:null===o||void 0===o?void 0:o.map((e=>(0,m.Y)(w.t,{tag:e},e.key)))}),(0,m.Y)(c.B,{componentId:"mlflow.prompts.list.tag.add",size:"small",icon:s?(0,m.Y)(d.PencilIcon,{}):void 0,onClick:()=>null===n||void 0===n?void 0:n(e),"aria-label":r.formatMessage({id:"lA8QO2",defaultMessage:"Edit tags"}),children:s?void 0:(0,m.Y)(u.A,{id:"iDpAK8",defaultMessage:"Add tags"}),css:k,type:"tertiary"})]})};var T=t(91105),x=t(60284);const b=({row:{original:e},getValue:a})=>{const t=a();return e.name?(0,m.Y)(T.N_,{to:x.Ay.getPromptDetailsPageRoute(encodeURIComponent(e.name)),children:t}):t};var A=t(16389),C=t(29125),P=t(76118);var F={name:"1h3rtzg",styles:"align-items:center"};const S=({prompts:e,hasNextPage:a,hasPreviousPage:t,isLoading:r,isFiltered:n,onNextPage:s,onPreviousPage:l,onEditTags:i})=>{const{theme:g}=(0,c.u)(),y=(()=>{const e=(0,h.A)();return(0,o.useMemo)((()=>[{header:e.formatMessage({id:"tzA/LZ",defaultMessage:"Name"}),accessorKey:"name",id:"name",cell:b},{header:e.formatMessage({id:"bmd4rb",defaultMessage:"Latest version"}),cell:C.q,accessorFn:({latest_versions:e})=>{var a;return null===(a=(0,P.first)(e))||void 0===a?void 0:a.version},id:"latestVersion"},{header:e.formatMessage({id:"FiKsFK",defaultMessage:"Last modified"}),id:"lastModified",accessorFn:({last_updated_timestamp:a})=>A.A.formatTimestamp(a,e)},{header:e.formatMessage({id:"KMVqUP",defaultMessage:"Tags"}),accessorKey:"tags",id:"tags",cell:Y}]),[e])})(),w=(0,f.N4)({data:null!==e&&void 0!==e?e:[],columns:y,getCoreRowModel:(0,v.HT)(),getRowId:(e,a)=>{var t;return null!==(t=e.name)&&void 0!==t?t:a.toString()},meta:{onEditTags:i}});return(0,m.FD)(d.Table,{scrollable:!0,pagination:(0,m.Y)(d.CursorPagination,{hasNextPage:a,hasPreviousPage:t,onNextPage:s,onPreviousPage:l,componentId:"mlflow.prompts.list.pagination"}),empty:(()=>{const a=!r&&(0,P.isEmpty)(e);return a&&n?(0,m.Y)(d.Empty,{image:(0,m.Y)(d.NoIcon,{}),title:(0,m.Y)(u.A,{id:"hlpNRa",defaultMessage:"No prompts found"}),description:null}):a?(0,m.Y)(d.Empty,{title:(0,m.Y)(u.A,{id:"/fwKFW",defaultMessage:"No prompts created"}),description:(0,m.Y)(u.A,{id:"WM5IeI",defaultMessage:'Use "Create prompt" button in order to create a new prompt'})}):null})(),children:[(0,m.Y)(d.TableRow,{isHeader:!0,children:w.getLeafHeaders().map((e=>(0,m.Y)(d.TableHeader,{componentId:"mlflow.prompts.list.table.header",children:(0,f.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),r?(0,m.Y)(d.TableSkeletonRows,{table:w}):w.getRowModel().rows.map((e=>(0,m.Y)(d.TableRow,{css:(0,p.AH)({height:g.general.buttonHeight},""),children:e.getAllCells().map((e=>(0,m.Y)(d.TableCell,{css:F,children:(0,f.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})};var I=t(73227),R=t(60527),V=t(55570),L=t(91113),D=t(68079),E=t(27556);var K={name:"1m5f2z8",styles:"overflow:hidden;display:flex;flex-direction:column"},N={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"};var H=(0,V.X)(L.A.mlflowServices.EXPERIMENTS,(()=>{const[e,a]=(0,o.useState)(""),t=(0,T.Zp)(),[s]=(0,E.d7)(e,500),{data:p,error:f,refetch:v,hasNextPage:h,hasPreviousPage:y,isLoading:w,onNextPage:M,onPreviousPage:_}=(({searchFilter:e}={})=>{var a,t,r,s;const i=(0,o.useRef)([]),[d,c]=(0,o.useState)(void 0),u=(0,n.I)(["prompts_list",{searchFilter:e,pageToken:d}],{queryFn:l,retry:!1}),m=(0,o.useCallback)((()=>{var e;i.current.push(d),c(null===(e=u.data)||void 0===e?void 0:e.next_page_token)}),[null===(a=u.data)||void 0===a?void 0:a.next_page_token,d]),g=(0,o.useCallback)((()=>{const e=i.current.pop();c(e)}),[]);return{data:null===(t=u.data)||void 0===t?void 0:t.registered_models,error:null!==(r=u.error)&&void 0!==r?r:void 0,isLoading:u.isLoading,hasNextPage:void 0!==(null===(s=u.data)||void 0===s?void 0:s.next_page_token),hasPreviousPage:Boolean(d),onNextPage:m,onPreviousPage:g,refetch:u.refetch}})({searchFilter:s}),{EditTagsModal:k,showEditPromptTagsModal:Y}=(0,I.i)({onSuccess:v}),{CreatePromptModal:b,openModal:A}=(0,R.z)({mode:R.v.CreatePrompt,onSuccess:({promptName:e})=>t(x.Ay.getPromptDetailsPageRoute(e))});return(0,m.FD)(r.m,{css:K,children:[(0,m.Y)(i.S,{shrinks:!1}),(0,m.Y)(d.Header,{title:(0,m.Y)(u.A,{id:"aLRRam",defaultMessage:"Prompts"}),buttons:(0,m.Y)(c.B,{componentId:"mlflow.prompts.list.create",type:"primary",onClick:A,children:(0,m.Y)(u.A,{id:"7x6xu8",defaultMessage:"Create prompt"})})}),(0,m.Y)(i.S,{shrinks:!1}),(0,m.FD)("div",{css:N,children:[(0,m.Y)(g,{searchFilter:e,onSearchFilterChange:a}),(null===f||void 0===f?void 0:f.message)&&(0,m.FD)(m.FK,{children:[(0,m.Y)(d.Alert,{type:"error",message:f.message,componentId:"mlflow.prompts.list.error",closable:!1}),(0,m.Y)(i.S,{})]}),(0,m.Y)(S,{prompts:p,error:f,hasNextPage:h,hasPreviousPage:y,isLoading:w,isFiltered:Boolean(e),onNextPage:M,onPreviousPage:_,onEditTags:Y})]}),k,b]})}),void 0,D.u)},91701:function(e,a,t){t.d(a,{i:function(){return d}});var r=t(46709),n=t(40724),o=t(74060),s=t(27757),l=t(73408);var i={name:"1739oy8",styles:"z-index:1"};const d=({copyText:e,showLabel:a=!0,componentId:t,...d})=>{const[c,u]=(0,r.useState)(!1);return(0,l.Y)(o.LegacyTooltip,{title:(0,l.Y)(n.A,{id:"X+boXI",defaultMessage:"Copied"}),dangerouslySetAntdProps:{visible:c},children:(0,l.Y)(s.B,{componentId:null!==t&&void 0!==t?t:"mlflow.shared.copy_button",type:"primary",onClick:()=>{navigator.clipboard.writeText(e),u(!0),setTimeout((()=>{u(!1)}),3e3)},onMouseLeave:()=>{u(!1)},css:i,children:a?(0,l.Y)(n.A,{id:"1Iq+NW",defaultMessage:"Copy"}):void 0,...d})})}}}]);