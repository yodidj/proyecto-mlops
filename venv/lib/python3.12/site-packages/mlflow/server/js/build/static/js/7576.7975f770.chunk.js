"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7576],{29774:function(e,o,t){t.d(o,{Au:function(){return l},tF:function(){return s}});var n=t(46709),a=t(36476),r=t(73408);const i=(0,n.createContext)({currentUserActionError:null,handleError:()=>{},handlePromise:()=>{},clearUserActionError:()=>{}}),l=({children:e,errorFilter:o})=>{const[t,l]=(0,n.useState)(null),s=(0,n.useCallback)(((e,t)=>{if(null===o||void 0===o||!o(e)){const o=(0,a.a$)(e);l(o),t&&t(o)}}),[l,o]),c=(0,n.useCallback)((e=>{e.catch((e=>{s(e)}))}),[s]),d=(0,n.useCallback)((()=>{l(null)}),[l]);return(0,r.Y)(i.Provider,{value:(0,n.useMemo)((()=>({currentUserActionError:t,handleError:s,handlePromise:c,clearUserActionError:d})),[d,t,s,c]),children:e})},s=()=>{const{currentUserActionError:e,handleError:o,handlePromise:t,clearUserActionError:a}=(0,n.useContext)(i),r=(0,n.useCallback)(((e,t,n)=>{o(t,n)}),[o]);return(0,n.useMemo)((()=>({currentUserActionError:e,handleError:o,handleErrorWithEvent:r,handlePromise:t,clearUserActionError:a})),[a,o,t,e,r])}},37750:function(e,o,t){t(46709),t(44072)},38815:function(e,o,t){t.d(o,{L:function(){return c}});var n=t(46709),a=t(72801),r=t(79081),i=t(74060),l=t(42747),s=t(73408);function c(e,o,t){const c=(0,l.tz)(),d=o||c.formatMessage({id:"hBAhI8",defaultMessage:"Copy"}),u=c.formatMessage({id:"g4hHzO",defaultMessage:"Copied"}),f=(0,a.useClipboard)(),m=(0,n.useRef)(),[g,p]=(0,n.useState)(!1),[h,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>()=>{window.clearTimeout(m.current)}),[]);return{actionIcon:g?(0,s.Y)(r.C,{}):(0,s.Y)(i.CopyIcon,{}),tooltipMessage:g?u:d,copy:()=>{f.copy(e),window.clearTimeout(m.current),p(!0),null===t||void 0===t||t(),m.current=window.setTimeout((()=>{p(!1)}),3e3)},copied:g,ariaLabel:d,tooltipOpen:h||g,handleTooltipOpenChange:b}}},42595:function(e,o,t){t.d(o,{t:function(){return u},z:function(){return f}});var n=t(68248),a=t(27757),r=t(46709),i=t(25637),l=t(52572),s=t(73408);var c={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},d={name:"5ob2ly",styles:"display:flex;position:relative"};const u=({runListHidden:e,width:o,onResize:t,children:a,onHiddenChange:u,maxWidth:m})=>{const g=(0,l.e)(),[p,h]=(0,r.useState)(!1);return(0,s.FD)(s.FK,{children:[(0,s.Y)(i.ResizableBox,{css:d,style:{flex:`0 0 ${e?0:o}px`},width:o,axis:"x",resizeHandles:["e"],minConstraints:[250,0],maxConstraints:void 0===m?void 0:[m,0],handle:(0,s.Y)(f,{runListHidden:e,updateRunListHidden:e=>{u?u(e):g((o=>({...o,runListHidden:e})))}}),onResize:(o,{size:n})=>{e||t(n.width)},onResizeStart:()=>!e&&h(!0),onResizeStop:()=>h(!1),children:a}),p&&(0,s.Y)(n.mL,{styles:c})]})},f=r.forwardRef((({updateRunListHidden:e,runListHidden:o,...t},r)=>{const{theme:i}=(0,a.u)();return(0,s.FD)("div",{ref:r,...t,css:(0,n.AH)({transition:"opacity 0.2s",width:0,overflow:"visible",height:"100%",position:"relative",zIndex:10,display:"flex",opacity:o?1:0,"&:hover":{opacity:1,".bar":{opacity:1},".button":{border:`2px solid ${i.colors.actionDefaultBorderHover}`}}},""),children:[(0,s.Y)("div",{css:(0,n.AH)({position:"absolute",left:-i.general.iconSize/2,width:i.general.iconSize,cursor:o?void 0:"ew-resize",height:"100%",top:0,bottom:0},""),children:(0,s.Y)("div",{className:"button",css:(0,n.AH)({top:"50%",transition:"border-color 0.2s",position:"absolute",width:i.general.iconSize,height:i.general.iconSize,backgroundColor:i.colors.backgroundPrimary,borderRadius:i.general.iconSize,overflow:"hidden",border:`1px solid ${i.colors.border}`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:11},""),children:(0,s.Y)(a.B,{componentId:"mlflow.experiment_page.table_resizer.collapse",onClick:()=>e(!o),icon:o?(0,s.Y)(a.o,{}):(0,s.Y)(a.n,{}),size:"small"})})}),(0,s.Y)("div",{className:"bar",css:(0,n.AH)({position:"absolute",opacity:0,left:-1.5,width:3,height:"100%",top:0,bottom:0,backgroundColor:i.colors.actionPrimaryBackgroundDefault},"")})]})}))},44666:function(e,o,t){t.d(o,{w:function(){return n}});const n=()=>"User"},52394:function(e,o){o.A={'code[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",overflow:"auto",position:"relative",margin:"0.5em 0",padding:"1.25em 1em"},'code[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},':not(pre) > code[class*="language-"]':{whiteSpace:"normal",borderRadius:"0.2em",padding:"0.1em"},".language-css > code":{color:"#f5871f"},".language-sass > code":{color:"#f5871f"},".language-scss > code":{color:"#f5871f"},'[class*="language-"] .namespace':{Opacity:"0.7"},atrule:{color:"#7c4dff"},"attr-name":{color:"#39adb5"},"attr-value":{color:"#f6a434"},attribute:{color:"#f6a434"},boolean:{color:"#7c4dff"},builtin:{color:"#39adb5"},cdata:{color:"#39adb5"},char:{color:"#39adb5"},class:{color:"#39adb5"},"class-name":{color:"#6182b8"},comment:{color:"#8e908c"},constant:{color:"#7c4dff"},deleted:{color:"#e53935"},doctype:{color:"#aabfc9"},entity:{color:"#e53935"},function:{color:"#4271ae"},hexcode:{color:"#f5871f"},id:{color:"#7c4dff",fontWeight:"bold"},important:{color:"#7c4dff",fontWeight:"bold"},inserted:{color:"#39adb5"},keyword:{color:"#8959a8"},number:{color:"#f5871f"},operator:{color:"#3e999f"},prolog:{color:"#aabfc9"},property:{color:"#39adb5"},"pseudo-class":{color:"#f6a434"},"pseudo-element":{color:"#f6a434"},punctuation:{color:"rgb(77, 77, 76)"},regex:{color:"#6182b8"},selector:{color:"#e53935"},string:{color:"#3ba85f"},symbol:{color:"#7c4dff"},tag:{color:"#e53935"},unit:{color:"#f5871f"},url:{color:"#e53935"},variable:{color:"#c72d4c"}}},52572:function(e,o,t){t.d(o,{e:function(){return l},i:function(){return i}});var n=t(46709),a=t(73408);const r=n.createContext((e=>e)),i=({children:e,setUIState:o})=>(0,a.Y)(r.Provider,{value:o,children:e}),l=()=>n.useContext(r)},72801:function(e,o,t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0}),o.useClipboard=void 0;var a=n(t(90606)),r=t(46709),i=t(81619);function l(e){return e&&("TEXTAREA"===e.nodeName||"INPUT"===e.nodeName)}o.useClipboard=function(e){void 0===e&&(e={});var o=i.useTimedToggle(!1),t=o[0],n=o[1],s=r.useRef(null),c=r.useRef(e);return c.current=e,{copied:t,copy:r.useCallback((function(e){var o=c.current,t=s.current;function r(){o.onSuccess&&o.onSuccess(),o.copiedTimeout&&n(o.copiedTimeout),o.selectOnCopy&&l(t)&&t.select()}function i(){o.onError&&o.onError(),!1!==o.selectOnError&&l(t)&&t.select()}function d(e){a.default(e).then(r).catch(i)}"string"===typeof e?d(e):t&&d(t.value)}),[]),isSupported:function(){return!!navigator.clipboard||"function"===typeof document.execCommand&&"function"===typeof document.queryCommandSupported&&document.queryCommandSupported("copy")},target:s}}},86841:function(e,o,t){t.r(o),t.d(o,{default:function(){return he}});var n=t(68248),a=t(27757),r=t(25637),i=t(42595),l=t(46709),s=t(91105),c=t(59930),d=t.n(c),u=t(74060),f=t(66916),m=t(42747),g=t(43617),p=t(90061),h=t(72607),b=t(73408);var v={name:"y1ecum",styles:"text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex-shrink:1"};var w=t(79081),x=t(87879);var y=t(40724),S=t(34599),Y=t(61077),M=t(39595),D=t(61060);var C={name:"1hcx8jb",styles:"padding:0"},z={name:"1r962iv",styles:"padding:4px"};var k=t(76118),T=t(52849),I=t(32874);const R="name",A="last_update_time",P="actions",H=[R,A,P],F=[P],_=[{id:R,accessorKey:"name",header:"Name",enableSorting:!0,cell:({row:e})=>{const{theme:o}=(0,a.u)();return(0,b.Y)("div",{css:(0,n.AH)({overflow:"hidden",display:"flex",alignItems:"center",gap:o.spacing.xs},""),children:(0,b.Y)(a.T.Link,{css:v,componentId:"mlflow.eval-datasets.dataset-name-cell",children:e.original.name})})}},{id:A,accessorKey:"last_update_time",accessorFn:e=>e.last_update_time?new Date(e.last_update_time).getTime():0,header:"Updated At",enableSorting:!0,size:100,maxSize:100,cell:({row:e})=>e.original.last_update_time?(0,b.Y)(w.T,{content:new Date(e.original.last_update_time).toLocaleString(),componentId:"mlflow.eval-datasets.last-updated-cell-tooltip",children:(0,b.Y)("span",{children:(0,x.Pt)(e.original.last_update_time)})}):(0,b.Y)("span",{children:"-"})},{id:"created_time",accessorKey:"created_time",accessorFn:e=>e.created_time?new Date(e.created_time).getTime():0,header:"Created At",enableSorting:!0,cell:({row:e})=>new Date(e.original.created_time).toLocaleString()},{id:"created_by",accessorKey:"created_by",header:"Created By",enableSorting:!0},{id:"source_type",accessorKey:"source_type",header:"Source Type",enableSorting:!0},{id:"actions",header:"",enableSorting:!1,size:36,maxSize:36,cell:({row:e})=>{const o=(0,M.jE)(),{deleteEvaluationDatasetMutation:t,isLoading:n}=(({onSuccess:e,onError:o})=>{const t=(0,M.jE)(),{mutate:n,isLoading:a}=(0,D.n)({mutationFn:async({datasetId:e})=>{await(0,Y.ff)((0,Y.we)(`ajax-api/3.0/mlflow/datasets/${e}`),"DELETE")},onSuccess:()=>{t.invalidateQueries({queryKey:[S.P4]}),null===e||void 0===e||e()},onError:e=>{null===o||void 0===o||o(e)}});return{deleteEvaluationDatasetMutation:n,isLoading:a}})({onSuccess:()=>{o.invalidateQueries({queryKey:[S.P4]})}}),r=(0,l.useCallback)((()=>{t({datasetId:e.original.dataset_id})}),[t,e]);return(0,b.Y)(u.TableRowAction,{css:C,children:(0,b.FD)(u.DropdownMenu.Root,{children:[(0,b.Y)(u.DropdownMenu.Trigger,{asChild:!0,children:(0,b.Y)(a.B,{componentId:"mlflow.eval-datasets.dataset-actions-menu",size:"small",icon:(0,b.Y)(u.OverflowIcon,{}),"aria-label":"Dataset actions",css:z})}),(0,b.Y)(u.DropdownMenu.Content,{align:"end",children:(0,b.FD)(u.DropdownMenu.Item,{componentId:"mlflow.eval-datasets.delete-dataset-menu-option",disabled:n,onClick:e=>{e.stopPropagation(),e.preventDefault(),r()},children:[(0,b.Y)(u.DropdownMenu.IconWrapper,{children:(0,b.Y)(u.TrashIcon,{})}),(0,b.Y)(y.A,{id:"cMRvTA",defaultMessage:"Delete dataset"}),n&&(0,b.Y)(u.DropdownMenu.HintColumn,{children:(0,b.Y)(a.S,{})})]})})]})})}}],L=l.memo((({row:e,isActive:o,setSelectedDataset:t})=>{const{theme:r}=(0,a.u)();return(0,b.Y)(u.TableRow,{className:"eval-datasets-table-row",onClick:()=>{t(e.original)},children:e.getVisibleCells().map((e=>(0,b.Y)(u.TableCell,{css:(0,n.AH)({backgroundColor:o?r.colors.actionDefaultBackgroundHover:"transparent",width:e.column.columnDef.size?`${e.column.columnDef.size}px`:"auto",maxWidth:e.column.columnDef.maxSize?`${e.column.columnDef.maxSize}px`:"auto",minWidth:e.column.columnDef.minSize?`${e.column.columnDef.minSize}px`:"auto",..."actions"===e.column.id&&{paddingLeft:0,paddingRight:0}},""),children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)}),((e,o)=>e.isActive===o.isActive&&(0,k.isEqual)(e.columnVisibility,o.columnVisibility)));var E={name:"10jtkcq",styles:"display:flex;flex-direction:column;width:100%;height:100%"},N={name:"82a6rk",styles:"flex:1"},O={name:"1jrb16",styles:"flex:1;min-height:0;position:relative"},B={name:"13udsys",styles:"height:100%"};const W=({experimentId:e,selectedDataset:o,setSelectedDataset:t,setIsLoading:r})=>{const i=(0,m.tz)(),{theme:s}=(0,a.u)(),[c,d]=(0,l.useState)([{id:"created_time",desc:!0}]),[v,w]=(0,l.useState)(_.reduce(((e,o)=>{var t,n;return e[null!==(t=o.id)&&void 0!==t?t:""]=H.includes(null!==(n=o.id)&&void 0!==n?n:""),e}),{})),[x,y]=(0,l.useState)(""),[S,Y]=(0,l.useState)(x),{data:M,isLoading:D,isFetching:C,error:z,refetch:k,fetchNextPage:R,hasNextPage:A}=(0,h.J)({experimentId:e,nameFilter:x}),P=(0,g.N4)({columns:_,data:null!==M&&void 0!==M?M:[],getCoreRowModel:(0,p.HT)(),getRowId:e=>e.dataset_id,enableSorting:!0,onSortingChange:d,getSortedRowModel:(0,p.h5)(),enableColumnResizing:!1,state:{sorting:c,columnVisibility:v}}),W=(0,T.v)({isFetching:C,hasNextPage:null!==A&&void 0!==A&&A,fetchNextPage:R});if((0,l.useEffect)((()=>{r(D)}),[D,r]),null!==M&&void 0!==M&&M.length||t(void 0),!o||!M.some((e=>e.dataset_id===o.dataset_id))){const e=P.getRowModel().rows;e.length>0&&t(e[0].original)}return z?(0,b.Y)("div",{children:"Error loading datasets"}):(0,b.FD)("div",{css:E,children:[(0,b.FD)("div",{css:(0,n.AH)({display:"flex",gap:s.spacing.sm,alignItems:"center",marginBottom:s.spacing.sm},""),children:[(0,b.Y)(f.I,{allowClear:!0,placeholder:"Search by dataset name",value:S,onChange:e=>{Y(e.target.value),e.target.value||y(e.target.value)},onClear:()=>{Y(""),y("")},onPressEnter:()=>y(S),componentId:"mlflow.eval-datasets.search-input",css:N,prefix:(0,b.Y)(f.S,{})}),(0,b.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",marginRight:s.spacing.sm},""),children:[(0,b.Y)(a.B,{icon:(0,b.Y)(u.RefreshIcon,{}),disabled:C,onClick:()=>k(),componentId:"mlflow.eval-datasets.table-refresh-button"}),(0,b.FD)(u.DropdownMenu.Root,{children:[(0,b.Y)(u.DropdownMenu.Trigger,{asChild:!0,children:(0,b.Y)(a.B,{icon:(0,b.Y)(u.ColumnsIcon,{}),componentId:"mlflow.eval-datasets.table-column-selector-button"})}),(0,b.Y)(u.DropdownMenu.Content,{children:_.map((e=>{var o,t,n,r;return!F.includes(null!==(o=e.id)&&void 0!==o?o:"")&&(0,b.FD)(u.DropdownMenu.CheckboxItem,{componentId:"mlflow.eval-datasets.table-column-selector-checkbox",checked:null!==(n=v[null!==(r=e.id)&&void 0!==r?r:""])&&void 0!==n&&n,onCheckedChange:o=>{var t;return w({...v,[null!==(t=e.id)&&void 0!==t?t:""]:o})},children:[(0,b.Y)(u.DropdownMenu.ItemIndicator,{}),(0,b.Y)(a.T.Text,{children:e.header})]},null!==(t=e.id)&&void 0!==t?t:"")}))})]})]})]}),(0,b.Y)(I.Z,{experimentId:e}),(0,b.Y)("div",{css:O,children:(0,b.FD)(u.Table,{css:B,empty:D||C||0!==M.length?void 0:(0,b.Y)(u.Empty,{description:i.formatMessage({id:"F4K195",defaultMessage:"No evaluation datasets found"})}),onScroll:e=>W(e.currentTarget),scrollable:!0,children:[(0,b.Y)(u.TableRow,{isHeader:!0,children:P.getLeafHeaders().map((e=>(0,b.Y)(u.TableHeader,{sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted(),onToggleSort:e.column.getToggleSortingHandler(),componentId:`mlflow.eval-datasets.${e.column.id}-header`,header:e,column:e.column,css:(0,n.AH)({width:e.column.columnDef.size?`${e.column.columnDef.size}px`:"auto",maxWidth:e.column.columnDef.maxSize?`${e.column.columnDef.maxSize}px`:"auto",minWidth:e.column.columnDef.minSize?`${e.column.columnDef.minSize}px`:"auto",cursor:e.column.getCanSort()?"pointer":"default"},""),children:(0,g.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),!D&&P.getRowModel().rows.map((e=>(0,b.Y)(L,{row:e,columnVisibility:v,isActive:e.original.dataset_id===(null===o||void 0===o?void 0:o.dataset_id),setSelectedDataset:t},e.id))),(D||C)&&(0,b.Y)(u.TableSkeletonRows,{table:P})]})})]})};var K=t(96584),$=t(181);var j=t(7655),V=t(30676);const U=({cell:e,table:{options:o}})=>{var t;const{theme:r}=(0,a.u)(),i=JSON.stringify(e.getValue(),null,2),l=null===o||void 0===o||null===(t=o.meta)||void 0===t?void 0:t.rowSize,s="md"===l?5*r.typography.fontSizeLg:10*r.typography.fontSizeLg;return(0,b.Y)("div",{css:(0,n.AH)({overflow:"hidden",display:"flex",alignItems:"center",gap:r.spacing.xs,flex:1},""),children:"sm"===l?(0,b.Y)("code",{css:(0,n.AH)({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:`${r.typography.fontSizeSm}px !important`,margin:"0 !important"},""),children:i}):(0,b.Y)(V.z7,{language:"json",style:{padding:r.spacing.xs,border:`1px solid ${r.colors.border}`,height:s,width:"100%"},children:i})})};var q={name:"1o129hd",styles:"display:flex;align-items:flex-start"};const G=({dataset:e,datasetRecords:o,columns:t,columnVisibility:r,setColumnVisibility:i,rowSize:l,setRowSize:s})=>{const{theme:c}=(0,a.u)(),d=null===e||void 0===e?void 0:e.name,f=(e=>{var o;if(!e)return;const t=(0,$.pt)(e);return null!==(o=null===t||void 0===t?void 0:t.num_records)&&void 0!==o?o:void 0})(null===e||void 0===e?void 0:e.profile),m=o.length;return(0,b.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:c.spacing.sm},""),children:[(0,b.FD)("div",{css:(0,n.AH)({display:"flex",flexDirection:"column",paddingLeft:c.spacing.sm,paddingRight:c.spacing.sm},""),children:[(0,b.Y)(a.T.Title,{level:3,withoutMargins:!0,children:d}),(0,b.Y)(a.T.Text,{color:"secondary",size:"sm",children:(0,b.Y)(y.A,{id:"crmbMK",defaultMessage:"Displaying {loadedRecordsCount} of {totalRecordsCount, plural, =1 {1 record} other {# records}}",values:{loadedRecordsCount:null!==m&&void 0!==m?m:0,totalRecordsCount:null!==f&&void 0!==f?f:0}})})]}),(0,b.FD)("div",{css:q,children:[(0,b.FD)(u.DropdownMenu.Root,{children:[(0,b.Y)(u.DropdownMenu.Trigger,{asChild:!0,children:(0,b.Y)(a.B,{componentId:"mlflow.eval-datasets.records-toolbar.row-size-toggle",icon:(0,b.Y)(u.RowsIcon,{})})}),(0,b.Y)(u.DropdownMenu.Content,{align:"end",children:(0,b.FD)(u.DropdownMenu.RadioGroup,{componentId:"mlflow.eval-datasets.records-toolbar.row-size-radio",value:l,onValueChange:e=>s(e),children:[(0,b.Y)(u.DropdownMenu.Label,{children:(0,b.Y)(a.T.Text,{color:"secondary",children:(0,b.Y)(y.A,{id:"DcGPfO",defaultMessage:"Row height"})})}),(0,b.FD)(u.DropdownMenu.RadioItem,{value:"sm",children:[(0,b.Y)(u.DropdownMenu.ItemIndicator,{}),(0,b.Y)(a.T.Text,{children:(0,b.Y)(y.A,{id:"ZNyTjg",defaultMessage:"Small"})})]},"sm"),(0,b.FD)(u.DropdownMenu.RadioItem,{value:"md",children:[(0,b.Y)(u.DropdownMenu.ItemIndicator,{}),(0,b.Y)(a.T.Text,{children:(0,b.Y)(y.A,{id:"fcIHyN",defaultMessage:"Medium"})})]},"md"),(0,b.FD)(u.DropdownMenu.RadioItem,{value:"lg",children:[(0,b.Y)(u.DropdownMenu.ItemIndicator,{}),(0,b.Y)(a.T.Text,{children:(0,b.Y)(y.A,{id:"xgbeVS",defaultMessage:"Large"})})]},"lg")]})})]}),(0,b.FD)(u.DropdownMenu.Root,{children:[(0,b.Y)(u.DropdownMenu.Trigger,{asChild:!0,children:(0,b.Y)(a.B,{componentId:"mlflow.eval-datasets.records-toolbar.columns-toggle",icon:(0,b.Y)(u.ColumnsIcon,{})})}),(0,b.Y)(u.DropdownMenu.Content,{children:t.map((e=>{var o,t;return(0,b.FD)(u.DropdownMenu.CheckboxItem,{componentId:"YOUR_TRACKING_ID",checked:null!==(o=r[null!==(t=e.id)&&void 0!==t?t:""])&&void 0!==o&&o,onCheckedChange:o=>{var t;return i({...r,[null!==(t=e.id)&&void 0!==t?t:""]:o})},children:[(0,b.Y)(u.DropdownMenu.ItemIndicator,{}),(0,b.Y)(a.T.Text,{children:e.header})]},e.id)}))})]})]})]})};const Q="inputs",J="outputs",Z="expectations",X=[{id:Q,accessorKey:"inputs",header:"Inputs",enableResizing:!1,cell:U},{id:J,accessorKey:"outputs",header:"Outputs",enableResizing:!1,cell:U},{id:Z,accessorKey:"expectations",header:"Expectations",enableResizing:!1,cell:U}];var ee={name:"1w4ngjc",styles:"flex:1;min-height:0;position:relative;overflow:hidden;display:flex;flex-direction:column"},oe={name:"82a6rk",styles:"flex:1"},te={name:"1w2a2xb",styles:"position:sticky;top:0;z-index:1"};const ne=({dataset:e})=>{const o=(0,j.A)(),t=e.dataset_id,[n,a]=(0,l.useState)("sm"),[r,i]=(0,l.useState)({[Q]:!0,[J]:!1,[Z]:!0}),{data:s,isLoading:c,isFetching:d,error:f,fetchNextPage:m,hasNextPage:h}=(({datasetId:e,enabled:o=!0})=>{const{data:t,fetchNextPage:n,hasNextPage:a,isLoading:r,isFetching:i,refetch:s,error:c}=(0,K.q)({queryKey:[S.uz,e],queryFn:async({queryKey:[,e],pageParam:o})=>{const t=new URLSearchParams;return t.set("dataset_id",e),t.set("max_results",50..toString()),o&&t.set("page_token",null!==o&&void 0!==o?o:""),await(0,Y.ff)((0,Y.we)(`ajax-api/3.0/mlflow/datasets/${e}/records?${t.toString()}`),"GET")},cacheTime:0,refetchOnWindowFocus:!1,retry:!1,enabled:o,getNextPageParam:e=>e.next_page_token});return{data:(0,l.useMemo)((()=>{var e;return null!==(e=null===t||void 0===t?void 0:t.pages.flatMap((e=>(0,$.pt)(e.records))))&&void 0!==e?e:[]}),[t]),fetchNextPage:n,hasNextPage:a,isLoading:r,isFetching:i,refetch:s,error:c}})({datasetId:null!==t&&void 0!==t?t:"",enabled:!!t}),v=(0,T.v)({isFetching:d,hasNextPage:null!==h&&void 0!==h&&h,fetchNextPage:m}),w=(0,g.N4)({columns:X,data:null!==s&&void 0!==s?s:[],getCoreRowModel:(0,p.HT)(),getRowId:e=>e.dataset_record_id,enableColumnResizing:!1,meta:{rowSize:n},state:{columnVisibility:r}});return(0,b.FD)("div",{css:ee,children:[(0,b.Y)(G,{dataset:e,datasetRecords:null!==s&&void 0!==s?s:[],columns:X,columnVisibility:r,setColumnVisibility:i,rowSize:n,setRowSize:a}),(0,b.FD)(u.Table,{css:oe,empty:c||0!==w.getRowModel().rows.length?void 0:(0,b.Y)(u.Empty,{description:o.formatMessage({id:"TnD/vL",defaultMessage:"No records found"})}),scrollable:!0,onScroll:e=>v(e.currentTarget),children:[(0,b.Y)(u.TableRow,{isHeader:!0,children:w.getLeafHeaders().map((e=>e.column.getIsVisible()&&(0,b.Y)(u.TableHeader,{componentId:`mlflow.eval-dataset-records.${e.column.id}-header`,header:e,column:e.column,css:te,children:(0,g.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),w.getRowModel().rows.map((e=>(0,b.Y)(u.TableRow,{children:e.getVisibleCells().map((e=>(0,b.Y)(u.TableCell,{children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id))),(c||d)&&(0,b.Y)(u.TableSkeletonRows,{table:w})]})]})};var ae=t(29774),re=t(89949);var ie={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const le=({error:e})=>{var o;return(0,b.Y)(u.PageWrapper,{css:ie,children:(0,b.Y)(u.Empty,{"data-testid":"fallback",title:(0,b.Y)(y.A,{id:"WtUqxc",defaultMessage:"Error"}),description:null!==(o=null===e||void 0===e?void 0:e.message)&&void 0!==o?o:(0,b.Y)(y.A,{id:"9J8zoa",defaultMessage:"An error occurred while rendering this component."}),image:(0,b.Y)(a.k,{})})})},se=({children:e,resetKey:o})=>(0,b.Y)(re.tH,{FallbackComponent:le,resetKeys:[o],children:(0,b.Y)(ae.Au,{children:e})});var ce=t.p+"static/media/eval-datasets-empty.16c4b3426c8a8c4a9defc41bfb653504.svg";var de={name:"xvginl",styles:"max-width:600px"};const ue=({experimentId:e})=>{const{theme:o}=(0,a.u)();return(0,b.FD)("div",{css:(0,n.AH)({display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",padding:o.spacing.md},""),children:[(0,b.Y)(a.T.Title,{level:3,color:"secondary",children:(0,b.Y)(y.A,{id:"c1jD8u",defaultMessage:"Create an evaluation dataset"})}),(0,b.Y)(a.T.Paragraph,{color:"secondary",css:de,children:(0,b.Y)(y.A,{id:"BMUd0e",defaultMessage:"Create evaluation datasets in order to iteratively evaluate and improve your app. For example, build a dataset from production traces with negative feedback. {learnMoreLink}",values:{learnMoreLink:(0,b.Y)(a.T.Link,{componentId:"mlflow.eval-datasets.learn-more-link",href:"https://mlflow.org/docs/latest/genai/datasets/",openInNewTab:!0,children:(0,b.Y)(y.A,{id:"izS5yQ",defaultMessage:"Learn more"})})}})}),(0,b.Y)("img",{css:(0,n.AH)({marginBottom:o.spacing.md,maxWidth:"min(100%, 600px)"},""),src:ce,alt:"No datasets found"}),(0,b.Y)(I.Z,{experimentId:e})]})};var fe={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},me={name:"n56zw6",styles:"display:flex;flex-direction:row;flex:1;min-height:0px"},ge={name:"5ob2ly",styles:"display:flex;position:relative"};const pe=()=>{const{experimentId:e}=(0,s.g)(),{theme:o}=(0,a.u)(),[t,c]=(0,l.useState)(400),[u,f]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),[p,h]=(0,l.useState)(void 0),[v,w]=(0,l.useState)(!1);return d()(e,"Experiment ID must be defined"),(0,b.FD)("div",{css:me,children:[(0,b.Y)(r.ResizableBox,{css:ge,style:{flex:`0 0 ${m?0:t}px`},width:t,axis:"x",resizeHandles:["e"],minConstraints:[250,0],handle:(0,b.Y)(i.z,{runListHidden:m,updateRunListHidden:()=>{g(!m)}}),onResize:(e,{size:o})=>{m||c(o.width)},onResizeStart:()=>!m&&f(!0),onResizeStop:()=>f(!1),children:(0,b.Y)("div",{css:(0,n.AH)({display:m?"none":"flex",flex:1,minWidth:0},""),children:(0,b.Y)(W,{setIsLoading:w,experimentId:e,selectedDataset:p,setSelectedDataset:h})})}),(0,b.FD)("div",{css:(0,n.AH)({flex:1,display:"flex",borderLeft:`1px solid ${o.colors.border}`,minHeight:"0px",overflow:"hidden"},""),children:[!v&&!p&&(0,b.Y)(ue,{experimentId:e}),p&&(0,b.Y)(ne,{dataset:p})]}),u&&(0,b.Y)(n.mL,{styles:fe})]})};var he=()=>(0,b.Y)(se,{children:(0,b.Y)(pe,{})})},94811:function(e,o){o.A={'code[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC"},'pre[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC",padding:"1em",margin:".5em 0",overflow:"auto"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},':not(pre) > code[class*="language-"]':{padding:".1em",borderRadius:".3em"},comment:{color:"#6c6783"},prolog:{color:"#6c6783"},doctype:{color:"#6c6783"},cdata:{color:"#6c6783"},punctuation:{color:"#6c6783"},namespace:{Opacity:".7"},tag:{color:"#3AACE2"},operator:{color:"#3AACE2"},number:{color:"#3AACE2"},property:{color:"#5DFAFC"},function:{color:"#5DFAFC"},"tag-id":{color:"#eeebff"},selector:{color:"#eeebff"},"atrule-id":{color:"#eeebff"},"code.language-javascript":{color:"#c4b9fe"},"attr-name":{color:"#c4b9fe"},"code.language-css":{color:"#ffffff"},"code.language-scss":{color:"#ffffff"},boolean:{color:"#ffffff"},string:{color:"#ffffff"},entity:{color:"#ffffff",cursor:"help"},url:{color:"#ffffff"},".language-css .token.string":{color:"#ffffff"},".language-scss .token.string":{color:"#ffffff"},".style .token.string":{color:"#ffffff"},"attr-value":{color:"#ffffff"},keyword:{color:"#ffffff"},control:{color:"#ffffff"},directive:{color:"#ffffff"},unit:{color:"#ffffff"},statement:{color:"#ffffff"},regex:{color:"#ffffff"},atrule:{color:"#ffffff"},placeholder:{color:"#ffffff"},variable:{color:"#ffffff"},deleted:{textDecoration:"line-through"},inserted:{borderBottom:"1px dotted #eeebff",textDecoration:"none"},italic:{fontStyle:"italic"},important:{fontWeight:"bold",color:"#c4b9fe"},bold:{fontWeight:"bold"},"pre > code.highlight":{Outline:".4em solid #8a75f5",OutlineOffset:".4em"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"#2c2937"},".line-numbers .line-numbers-rows > span:before":{color:"#3c3949"},".line-highlight.line-highlight":{background:"linear-gradient(to right, rgba(224, 145, 66, 0.2) 70%, rgba(224, 145, 66, 0))"}}},96584:function(e,o,t){t.d(o,{q:function(){return s}});var n=t(56606),a=t(23403),r=t(60783);class i extends a.${constructor(e,o){super(e,o)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,o){super.setOptions({...e,behavior:(0,r.PL)()},o)}getOptimisticResult(e){return e.behavior=(0,r.PL)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...o}={}){return this.fetch({...o,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...o}={}){return this.fetch({...o,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,o){var t,n,a,i,l,s;const{state:c}=e,d=super.createResult(e,o),{isFetching:u,isRefetching:f}=d,m=u&&"forward"===(null==(t=c.fetchMeta)||null==(n=t.fetchMore)?void 0:n.direction),g=u&&"backward"===(null==(a=c.fetchMeta)||null==(i=a.fetchMore)?void 0:i.direction);return{...d,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,r.rB)(o,null==(l=c.data)?void 0:l.pages),hasPreviousPage:(0,r.RQ)(o,null==(s=c.data)?void 0:s.pages),isFetchingNextPage:m,isFetchingPreviousPage:g,isRefetching:f&&!m&&!g}}}var l=t(93769);function s(e,o,t){const a=(0,n.vh)(e,o,t);return(0,l.t)(a,i)}}}]);