"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[1537],{3469:function(e,o,s){s.d(o,{t:function(){return Y}});var n=s(68248),i=s(76118),t=s(46709),a=s(74060),r=s(27757),l=s(79081),d=s(93083),c=s(7655),p=s(40724),m=s(73408);var u={name:"1d3w5wq",styles:"width:100%"},g={name:"s079uh",styles:"margin-top:2px"},v={name:"82a6rk",styles:"flex:1"},h={name:"82a6rk",styles:"flex:1"};const f=({renderKey:e,setDraftAliases:o,existingAliases:s,draftAliases:i,version:l,aliasToVersionMap:f,disabled:y})=>{const Y=(0,c.A)(),[M,w]=(0,t.useState)(!1),{theme:A}=(0,r.u)(),b=(0,t.useCallback)((e=>{o((o=>o.filter((o=>o!==e))))}),[o]),x=(0,t.useCallback)((e=>{const s=e.map((e=>e.replace(/[^\w-]/g,"").toLowerCase().substring(0,255))).filter((e=>e.length>0)),n=Array.from(new Set(s));o(n),w(!1)}),[o]);return(0,m.FD)(a.LegacySelect,{disabled:y,filterOption:(e,o)=>null===o||void 0===o?void 0:o.value.toLowerCase().startsWith(e.toLowerCase()),placeholder:Y.formatMessage({id:"bQZDSv",defaultMessage:"Enter aliases (champion, challenger, etc)"}),allowClear:!0,css:u,mode:"tags",onChange:x,dangerouslySetAntdProps:{dropdownMatchSelectWidth:!0,tagRender:({value:e})=>(0,m.Y)(d.Z,{compact:!0,css:g,closable:!0,onClose:()=>b(e.toString()),value:e.toString()})},onDropdownVisibleChange:w,open:M,value:i||[],children:[s.map((e=>(0,m.Y)(a.LegacySelect.Option,{value:e,"data-testid":"model-alias-option",children:(0,m.FD)("div",{css:(0,n.AH)({display:"flex",marginRight:A.spacing.xs},""),children:[(0,m.Y)("div",{css:v,children:e}),(0,m.Y)("div",{children:(0,m.Y)(p.A,{id:"4OcdLd",defaultMessage:"This version"})})]},e)},e))),Object.entries(f).filter((([,e])=>e!==l)).map((([e,o])=>(0,m.Y)(a.LegacySelect.Option,{value:e,"data-testid":"model-alias-option",children:(0,m.FD)("div",{css:(0,n.AH)({display:"flex",marginRight:A.spacing.xs},""),children:[(0,m.Y)("div",{css:h,children:e}),(0,m.Y)("div",{children:(0,m.Y)(p.A,{id:"Boj6Fm",defaultMessage:"Version {version}",values:{version:o}})})]},e)},e)))]},JSON.stringify(e))};var y=s(77153);const Y=({aliases:e,onSuccess:o,onSave:s,getTitle:d,description:c})=>{const[u,g]=(0,t.useState)(!1),[v,h]=(0,t.useState)(!1),[Y]=a.LegacyForm.useForm(),[M,w]=(0,t.useState)(""),{theme:A}=(0,r.u)(),[b,x]=(0,t.useState)([]),[k,V]=(0,t.useState)([]),[C,D]=(0,t.useState)("0"),T=(0,t.useCallback)((o=>{const s=e.filter((({version:e})=>e===o)).map((({alias:e})=>e))||[];o&&(x(s),V(s),D(o),h(!0))}),[e]),S=(0,t.useMemo)((()=>{const o=e.reduce(((e,o)=>{var s;return e.some((({version:e})=>e===o.version))?(null===(s=e.find((({version:e})=>e===o.version)))||void 0===s||s.aliases.push(o.alias),e):[...e,{version:o.version,aliases:[o.alias]}]}),[]).filter((({version:e})=>e!==C));return k.map((e=>({alias:e,otherVersion:o.find((o=>{var s;return null===(s=o.aliases)||void 0===s?void 0:s.find((o=>o===e))}))}))).filter((({otherVersion:e})=>e))}),[e,k,C]),P=(0,t.useMemo)((()=>e.reduce(((e,{alias:o,version:s})=>({...e,[o]:s})),{})||{}),[e]),I=(0,i.isEqual)(b.slice().sort(),k.slice().sort()),E=k.length>10,R=I||E;return{EditAliasesModal:(0,m.FD)(l.d,{componentId:"mlflow.edit-aliases-modal",visible:v,footer:(0,m.FD)("div",{children:[(0,m.Y)(r.B,{componentId:"mlflow.edit-aliases-modal.cancel-button",onClick:()=>h(!1),children:(0,m.Y)(p.A,{id:"3yuDKB",defaultMessage:"Cancel"})}),(0,m.Y)(r.B,{componentId:"mlflow.edit-aliases-modal.save-button",loading:u,type:"primary",disabled:R,onClick:()=>{w(""),g(!0),s(C,b,k).then((()=>{g(!1),h(!1),null===o||void 0===o||o()})).catch((e=>{if(g(!1),e instanceof y.s){const o=e.getMessageField()||e.getUserVisibleError().toString()||e.text;w(o)}else w(e.message)}))},children:(0,m.Y)(p.A,{id:"j4vtTO",defaultMessage:"Save aliases"})})]}),destroyOnClose:!0,title:d(C),onCancel:()=>h(!1),confirmLoading:!1,children:[(0,m.Y)(r.T.Paragraph,{children:c}),(0,m.FD)(a.LegacyForm,{form:Y,layout:"vertical",children:[(0,m.Y)(a.LegacyForm.Item,{children:(0,m.Y)(f,{disabled:!1,renderKey:S,aliasToVersionMap:P,version:C,draftAliases:k,existingAliases:b,setDraftAliases:V})}),(0,m.FD)("div",{css:(0,n.AH)({display:"flex",flexDirection:"column",gap:A.spacing.xs},""),children:[E&&(0,m.Y)(a.Alert,{componentId:"mlflow.edit-aliases-modal.exceeding-limit-alert",role:"alert",message:(0,m.Y)(p.A,{id:"rzIPYc",defaultMessage:"You are exceeding a limit of {limit} aliases assigned to the single model version",values:{limit:10}}),type:"error",closable:!1}),S.map((({alias:e,otherVersion:o})=>(0,m.Y)(a.Alert,{componentId:"mlflow.edit-aliases-modal.conflicted-alias-alert",role:"alert",message:(0,m.Y)(p.A,{id:"CUKIO0",defaultMessage:'The "{alias}" alias is also being used on version {otherVersion}. Adding it to this version will remove it from version {otherVersion}.',values:{otherVersion:null===o||void 0===o?void 0:o.version,alias:e}}),type:"info",closable:!1},e))),M&&(0,m.Y)(a.Alert,{componentId:"mlflow.edit-aliases-modal.error-alert",role:"alert",message:M,type:"error",closable:!1})]})]})]}),showEditAliasesModal:T}}},16333:function(e,o,s){s.d(o,{Ld:function(){return i.L},ad:function(){return n.a}});s(37750);var n=s(44072),i=s(38815)},28343:function(e,o,s){s.r(o),s.d(o,{default:function(){return Ve}});var n=s(68248),i=s(59930),t=s.n(i),a=s(56530),r=s(49708),l=s(59795);const d=async({queryKey:e})=>{var o;const[,{promptName:s}]=e,[n,i]=await Promise.all([l.M.getPromptDetails(s),l.M.getPromptVersions(s)]);return{prompt:n.registered_model,versions:null!==(o=i.model_versions)&&void 0!==o?o:[]}};var c=s(91105),p=s(60312),m=s(27757),u=s(74060),g=s(79081),v=s(40724),h=s(6050),f=s(46709),y=s(60284),Y=s(60527),M=s(61060),w=s(73408);var A=s(43617),b=s(90061),x=s(7655),k=s(16389),V=s(29125),C=s(52471);const D=({getValue:e,row:{original:o},table:{options:{meta:s}}})=>{const{showEditAliasesModal:n,aliasesByVersion:i,registeredPrompt:t}=s,a=i[o.version]||[];return t?(0,w.Y)(C.Y,{modelName:null===t||void 0===t?void 0:t.name,version:o.version,aliases:a,onAddEdit:()=>{null===n||void 0===n||n(o.version)}}):null},T=({isSelectedFirstToCompare:e,isSelectedSecondToCompare:o,onSelectFirst:s,onSelectSecond:i})=>{const{theme:t}=(0,m.u)(),a=(0,x.A)();return(0,w.Y)("div",{css:(0,n.AH)({width:t.general.buttonHeight,display:"flex",alignItems:"center",paddingRight:t.spacing.sm},""),children:(0,w.FD)("div",{css:(0,n.AH)({display:"flex",height:t.general.buttonInnerHeight+t.spacing.xs,gap:0,flex:1},""),children:[(0,w.Y)(g.T,{componentId:"mlflow.prompts.details.select_baseline.tooltip",content:(0,w.Y)(v.A,{id:"KV3BXl",defaultMessage:"Select as baseline version"}),delayDuration:0,side:"left",children:(0,w.Y)("button",{onClick:s,role:"radio","aria-checked":e,"aria-label":a.formatMessage({id:"KV3BXl",defaultMessage:"Select as baseline version"}),css:(0,n.AH)({flex:1,border:`1px solid ${e?t.colors.actionDefaultBorderFocus:t.colors.actionDefaultBorderDefault}`,borderRight:0,marginLeft:1,borderTopLeftRadius:t.borders.borderRadiusMd,borderBottomLeftRadius:t.borders.borderRadiusMd,backgroundColor:e?t.colors.actionDefaultBackgroundPress:t.colors.actionDefaultBackgroundDefault,cursor:"pointer","&:hover":{backgroundColor:t.colors.actionDefaultBackgroundHover}},"")})}),(0,w.Y)(g.T,{componentId:"mlflow.prompts.details.select_compared.tooltip",content:(0,w.Y)(v.A,{id:"9IN1I8",defaultMessage:"Select as compared version"}),delayDuration:0,side:"right",children:(0,w.Y)("button",{onClick:i,role:"radio","aria-checked":o,"aria-label":a.formatMessage({id:"9IN1I8",defaultMessage:"Select as compared version"}),css:(0,n.AH)({flex:1,border:`1px solid ${o?t.colors.actionDefaultBorderFocus:t.colors.actionDefaultBorderDefault}`,borderLeft:`1px solid ${e||o?t.colors.actionDefaultBorderFocus:t.colors.actionDefaultBorderDefault}`,borderTopRightRadius:t.borders.borderRadiusMd,borderBottomRightRadius:t.borders.borderRadiusMd,backgroundColor:o?t.colors.actionDefaultBackgroundPress:t.colors.actionDefaultBackgroundDefault,cursor:"pointer","&:hover":{backgroundColor:t.colors.actionDefaultBackgroundHover}},"")})})]})})};var S={name:"inxa61",styles:"flex:1;overflow:hidden"},P={name:"1h3rtzg",styles:"align-items:center"};const I=({promptVersions:e,onUpdateComparedVersion:o,isLoading:s,onUpdateSelectedVersion:i,comparedVersion:t,selectedVersion:a,mode:r,registeredPrompt:l,showEditAliasesModal:d,aliasesByVersion:c})=>{const p=(0,x.A)(),{theme:g}=(0,m.u)(),y=(0,f.useMemo)((()=>{const e=[{id:"version",header:p.formatMessage({id:"Vn+uJi",defaultMessage:"Version"}),accessorKey:"version",cell:V.q}];return r===h.Dp.TABLE&&(e.push({id:"creation_timestamp",header:p.formatMessage({id:"1tRtls",defaultMessage:"Registered at"}),accessorFn:({creation_timestamp:e})=>k.A.formatTimestamp(e,p)}),e.push({id:"commit_message",header:p.formatMessage({id:"ZaQ42C",defaultMessage:"Commit message"}),accessorKey:"description"}),e.push({id:"aliases",header:p.formatMessage({id:"M0zIfe",defaultMessage:"Aliases"}),accessorKey:"aliases",cell:D})),e}),[r,p]),Y=(0,A.N4)({data:null!==e&&void 0!==e?e:[],getRowId:e=>e.version,columns:y,getCoreRowModel:(0,b.HT)(),meta:{showEditAliasesModal:d,aliasesByVersion:c,registeredPrompt:l}});return(0,w.Y)("div",{css:S,children:(0,w.FD)(u.Table,{scrollable:!0,empty:s||0!==(null===e||void 0===e?void 0:e.length)?null:(0,w.Y)(u.Empty,{title:(0,w.Y)(v.A,{id:"9pJlQd",defaultMessage:"No prompt versions created"}),description:(0,w.Y)(v.A,{id:"7zgX/l",defaultMessage:'Use "Create prompt version" button in order to create a new prompt version'})}),"aria-label":"Prompt versions table",children:[(0,w.Y)(u.TableRow,{isHeader:!0,children:Y.getLeafHeaders().map((e=>(0,w.Y)(u.TableHeader,{componentId:"mlflow.prompts.versions.table.header",children:(0,A.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),s?(0,w.Y)(u.TableSkeletonRows,{table:Y}):Y.getRowModel().rows.map((e=>{const s=[h.Dp.PREVIEW].includes(r)&&a===e.original.version,l=[h.Dp.COMPARE].includes(r)&&a===e.original.version,d=[h.Dp.COMPARE].includes(r)&&t===e.original.version,c=r===h.Dp.PREVIEW;return(0,w.FD)(u.TableRow,{css:(0,n.AH)({height:g.general.heightBase,backgroundColor:s?g.colors.actionDefaultBackgroundPress:l||d?g.colors.actionDefaultBackgroundHover:"transparent",cursor:c?"pointer":"default"},""),onClick:()=>{r===h.Dp.PREVIEW&&i(e.original.version)},children:[e.getAllCells().map((e=>(0,w.Y)(u.TableCell,{css:P,children:(0,A.Kv)(e.column.columnDef.cell,e.getContext())},e.id))),s&&(0,w.Y)("div",{css:(0,n.AH)({width:2*g.spacing.md,display:"flex",alignItems:"center",paddingRight:g.spacing.sm},""),children:(0,w.Y)(m.o,{})}),r===h.Dp.COMPARE&&(0,w.Y)(T,{onSelectFirst:()=>i(e.original.version),onSelectSecond:()=>o(e.original.version),isSelectedFirstToCompare:l,isSelectedSecondToCompare:d})]},e.id)}))]})})};var E=s(3469),R=s(76118);const _=(e,o)=>"setTableMode"===o.type?{...e,mode:h.Dp.TABLE}:"switchSides"===o.type?{...e,selectedVersion:e.comparedVersion,comparedVersion:e.selectedVersion}:"setPreviewMode"===o.type?{...e,mode:h.Dp.PREVIEW,selectedVersion:o.selectedVersion}:"setCompareMode"===o.type?{...e,mode:h.Dp.COMPARE,selectedVersion:o.selectedVersion,comparedVersion:o.comparedVersion}:"setSelectedVersion"===o.type?{...e,selectedVersion:o.selectedVersion}:"setComparedVersion"===o.type?{...e,comparedVersion:o.comparedVersion}:e;var B=s(60062),F=s(82e3),L=s(12803);var H={name:"1pzk433",styles:"width:100px"};const N=({isLoadingRuns:e,runIds:o,runInfoMap:s})=>{const[n,i]=(0,f.useState)(!1),{theme:t}=(0,m.u)(),a=n?o.length:Math.min(3,o.length||0),r=o.length>3;return(0,w.FD)(w.FK,{children:[(0,w.Y)(m.T.Text,{bold:!0,children:(0,w.Y)(v.A,{id:"9ZHB3D",defaultMessage:"MLflow runs:"})}),(0,w.Y)("div",{children:e?(0,w.Y)(u.ParagraphSkeleton,{css:H}):(0,w.Y)(w.FK,{children:(0,w.FD)("div",{style:{display:"flex",flexWrap:"wrap",gap:t.spacing.sm},children:[o.slice(0,a).map(((e,o)=>{const n=s[e];if(!(0,R.isNil)(null===n||void 0===n?void 0:n.experimentId)&&null!==n&&void 0!==n&&n.runUuid&&null!==n&&void 0!==n&&n.runName){const{experimentId:e,runUuid:s,runName:i}=n;return(0,w.FD)(m.T.Text,{children:[(0,w.Y)(c.N_,{to:y.Ay.getRunPageRoute(e,s),children:i}),o<a-1&&","]})}return(0,w.Y)("span",{children:(null===n||void 0===n?void 0:n.runName)||(null===n||void 0===n?void 0:n.runUuid)})})),r&&(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.runs.show_more",size:"small",type:"link",onClick:()=>i(!n),children:n?(0,w.Y)(v.A,{id:"pVF+2s",defaultMessage:"Show less"}):(0,w.Y)(v.A,{id:"fh6RWb",defaultMessage:"{count} more...",values:{count:o.length-a}})})]})})})]})};var O=s(181),z=s(59281);var K={name:"ti75j2",styles:"margin:0"};const W=({tags:e,onEditVersionMetadata:o})=>{const[s,n]=(0,f.useState)(!1),{theme:i}=(0,m.u)(),t=s?e.length:Math.min(3,e.length||0),a=e.length>3,r=!(0,R.isNil)(o),l=e.length>0?(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.version.edit_tags",size:"small",icon:(0,w.Y)(u.PencilIcon,{}),onClick:o}):(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.version.add_tags",size:"small",type:"link",onClick:o,children:(0,w.Y)(v.A,{id:"JGQ5B2",defaultMessage:"Add"})});return(0,w.FD)(w.FK,{children:[(0,w.Y)(m.T.Text,{bold:!0,children:(0,w.Y)(v.A,{id:"GgPNAZ",defaultMessage:"Metadata:"})}),(0,w.Y)("div",{children:(0,w.Y)(w.FK,{children:(0,w.FD)("div",{style:{display:"flex",flexWrap:"wrap",gap:i.spacing.xs},children:[e.slice(0,t).map((e=>(0,w.Y)(z.t,{css:K,tag:e},e.key))),r&&l,!r&&0===e.length&&(0,w.Y)(m.T.Hint,{children:"\u2014"}),a&&(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.version.tags.show_more",size:"small",type:"link",onClick:()=>n(!s),children:s?(0,w.Y)(v.A,{id:"pVF+2s",defaultMessage:"Show less"}):(0,w.Y)(v.A,{id:"fh6RWb",defaultMessage:"{count} more...",values:{count:e.length-t}})})]})})})]})};var q={name:"wjlmq0",styles:"max-width:none"};const U=({registeredPromptVersion:e,registeredPrompt:o,showEditAliasesModal:s,onEditVersion:i,showEditPromptVersionMetadataModal:t,aliasesByVersion:a,isBaseline:r})=>{var l;const{theme:d}=(0,m.u)(),c=(0,f.useMemo)((()=>{var o,s;const n=null===e||void 0===e||null===(o=e.tags)||void 0===o||null===(s=o.find((e=>e.key===h.xd)))||void 0===s?void 0:s.value;return n?n.split(",").map((e=>e.trim())):[]}),[e]),{isLoading:p,runInfoMap:u}=((e=[])=>{const o=(0,B.E)({queries:e.map((e=>({queryKey:["prompt_associated_runs",e],queryFn:async({queryKey:[,e]})=>{try{const o=await L.x.getRun({run_id:e});return(0,F.LJ)(o)}catch(o){return null}}})))}),s={};return o.forEach(((o,n)=>{var i,t;const a=e[n];s[a]=null===(i=o.data)||void 0===i||null===(t=i.run)||void 0===t?void 0:t.info})),{isLoading:e.length>0&&o.some((e=>e.isLoading)),runInfoMap:s}})(c||[]);if(!o||!e)return null;const g=(null===e||void 0===e||null===(l=e.tags)||void 0===l?void 0:l.filter((e=>(0,O.oD)(e.key))))||[],y=(0,w.Y)(v.A,{id:"loe2Ov",defaultMessage:"Version {version}",values:{version:e.version}}),Y=t?()=>{t(e)}:void 0;return(0,w.FD)("div",{css:(0,n.AH)({display:"grid",gridTemplateColumns:"120px 1fr",gridAutoRows:`minmax(${d.typography.lineHeightLg}, auto)`,alignItems:"flex-start",rowGap:d.spacing.xs,columnGap:d.spacing.sm},""),children:[i&&(0,w.FD)(w.FK,{children:[(0,w.Y)(m.T.Text,{bold:!0,children:"Version:"}),(0,w.FD)(m.T.Text,{children:[(0,w.Y)(m.T.Link,{componentId:"mlflow.prompts.details.version.goto",onClick:()=>i(e),children:y})," ",r&&(0,w.Y)(v.A,{id:"FTx+Hi",defaultMessage:"(baseline)"})]})]}),(0,w.Y)(m.T.Text,{bold:!0,children:(0,w.Y)(v.A,{id:"wFvyI1",defaultMessage:"Registered at:"})}),(0,w.Y)(m.T.Text,{children:k.A.formatTimestamp(e.creation_timestamp)}),(0,w.Y)(m.T.Text,{bold:!0,children:(0,w.Y)(v.A,{id:"h3vlVA",defaultMessage:"Aliases:"})}),(0,w.Y)("div",{children:(0,w.Y)(C.Y,{css:q,modelName:o.name,version:e.version,aliases:a[e.version]||[],onAddEdit:()=>{null===s||void 0===s||s(e.version)}})}),e.description&&(0,w.FD)(w.FK,{children:[(0,w.Y)(m.T.Text,{bold:!0,children:(0,w.Y)(v.A,{id:"KGMbzq",defaultMessage:"Commit message:"})}),(0,w.Y)(m.T.Text,{children:e.description})]}),(0,w.Y)(W,{onEditVersionMetadata:Y,tags:g}),(p||c.length>0)&&(0,w.Y)(N,{isLoadingRuns:p,runIds:c,runInfoMap:u})]})};var j=s(67850),$=s(61072);const G=/\{\{\s*(.*?)\s*\}\}/g;var Z={name:"1eoy87d",styles:"display:flex;justify-content:space-between"},X={name:"1089mxj",styles:"white-space:pre-wrap"};const J=({promptVersion:e,onUpdatedContent:o,onDeletedVersion:s,aliasesByVersion:i,registeredPrompt:t,showEditAliasesModal:a,showEditPromptVersionMetadataModal:r})=>{const d=(0,f.useMemo)((()=>e?(0,h.dv)(e):""),[e]),c=(0,f.useMemo)((()=>(0,h.f5)(e)),[e]),p=(0,f.useMemo)((()=>c?(0,h.yC)(d):void 0),[c,d]),{DeletePromptModal:y,openModal:Y}=(({promptVersion:e,onSuccess:o})=>{const[s,n]=(0,f.useState)(!1),{mutate:i}=(0,M.n)({mutationFn:async({promptName:e,version:o})=>{await l.M.deleteRegisteredPromptVersion(e,o)}});return{DeletePromptModal:(0,w.Y)(g.d,{componentId:"mlflow.prompts.delete_version_modal",visible:s,onCancel:()=>n(!1),title:(0,w.Y)(v.A,{id:"WfY+Gj",defaultMessage:"Delete prompt version"}),okText:(0,w.Y)(v.A,{id:"orKoPo",defaultMessage:"Delete"}),okButtonProps:{danger:!0},onOk:async()=>{null!==e&&void 0!==e&&e.name?(i({promptName:e.name,version:e.version},{onSuccess:()=>{null===o||void 0===o||o(),n(!1)}}),n(!1)):n(!1)},cancelText:(0,w.Y)(v.A,{id:"VpFZR/",defaultMessage:"Cancel"}),children:(0,w.Y)(v.A,{id:"x2+7hZ",defaultMessage:"Are you sure you want to delete the prompt version?"})}),openModal:()=>n(!0)}})({promptVersion:e,onSuccess:()=>null===s||void 0===s?void 0:s()}),[A,b]=(0,f.useState)(!1),x=(0,f.useMemo)((()=>{if(!d)return[];const e=[],o=c?(null===p||void 0===p?void 0:p.map((e=>e.content)).join("\n"))||"":d;let s;for(;null!==(s=G.exec(o));)e.push(s[1]);return e.some((e=>e.includes("{")||e.includes("}")))?null:(0,R.uniq)(e)}),[d,c,p]),{theme:k}=(Q(e,x,c?h.Xs:void 0),(0,m.u)());return(0,w.FD)("div",{css:(0,n.AH)({flex:1,padding:k.spacing.md,paddingTop:0,borderRadius:k.borders.borderRadiusSm,overflow:"auto",display:"flex",flexDirection:"column"},""),children:[(0,w.FD)("div",{css:Z,children:[(0,w.FD)(m.T.Title,{level:3,children:["Viewing version ",null===e||void 0===e?void 0:e.version]}),(0,w.FD)("div",{css:(0,n.AH)({display:"flex",gap:k.spacing.sm},""),children:[(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.delete_version",icon:(0,w.Y)(u.TrashIcon,{}),type:"primary",danger:!0,onClick:Y,children:(0,w.Y)(v.A,{id:"H7JwOl",defaultMessage:"Delete version"})}),(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.preview.use",icon:(0,w.Y)(u.PlayIcon,{}),onClick:()=>b(!0),children:(0,w.Y)(v.A,{id:"8EK+SZ",defaultMessage:"Use"})})]})]}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.Y)(U,{aliasesByVersion:i,registeredPrompt:t,registeredPromptVersion:e,showEditAliasesModal:a,showEditPromptVersionMetadataModal:r}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.Y)("div",{css:(0,n.AH)({backgroundColor:c?void 0:k.colors.backgroundSecondary,padding:k.spacing.md,overflow:"auto",display:"flex",flexDirection:"column",gap:k.spacing.sm},""),children:c&&p?p.map(((e,o)=>(0,w.Y)($.X,{message:{...e,content:e.content}},o))):(0,w.Y)(m.T.Text,{css:X,children:d||"Empty"})}),(0,w.FD)(g.d,{componentId:"mlflow.prompts.details.preview.usage_example_modal",title:(0,w.Y)(v.A,{id:"VrxfuC",defaultMessage:"Usage example"}),visible:A,onCancel:()=>b(!1),cancelText:(0,w.Y)(v.A,{id:"cmYzGP",defaultMessage:"Dismiss"}),children:[(0,w.Y)(j.i,{code:Q(e,x,c?h.Xs:void 0)})," "]}),y]})},Q=(e,o,s=h.Qk)=>{let n=`from openai import OpenAI\nimport mlflow\nclient = OpenAI(api_key="<YOUR_API_KEY>")\n\n# Set MLflow tracking URI\nmlflow.set_tracking_uri("<YOUR_TRACKING_URI>")\n\n# Example of loading and using the prompt\nprompt = mlflow.genai.load_prompt("prompts:/${null===e||void 0===e?void 0:e.name}/${null===e||void 0===e?void 0:e.version}")`;return null===o?s===h.Xs?n+='\n\n# Replace the variables with the actual values\nvariables = {\n   "key": "value",\n   ...\n}\n\nmessages = prompt.format(**variables)\nresponse = client.chat.completions.create(\n    messages=messages,\n    model="gpt-4o-mini",\n)':n+='\n\n# Replace the variables with the actual values\nvariables = {\n   "key": "value",\n   ...\n}\n\nresponse = client.chat.completions.create(\n    messages=[{\n        "role": "user",\n        "content": prompt.format(**variables),\n    }],\n    model="gpt-4o-mini",\n)':s===h.Xs?n+=`\nmessages = prompt.format_messages(${o.map((e=>`${e}="<${e}>"`)).join(", ")})\nresponse = client.chat.completions.create(\n    messages=messages,\n    model="gpt-4o-mini",\n)`:n+=`\nresponse = client.chat.completions.create(\n    messages=[{\n        "role": "user",\n        "content": prompt.format(${o.map((e=>`${e}="<${e}>"`)).join(", ")}),\n    }],\n    model="gpt-4o-mini",\n)`,n+="\n\nprint(response.choices[0].message.content)",n};var ee=s(76055);var oe={name:"1eoy87d",styles:"display:flex;justify-content:space-between"},se={name:"zjik7",styles:"display:flex"},ne={name:"82a6rk",styles:"flex:1"},ie={name:"82a6rk",styles:"flex:1"},te={name:"ppz665",styles:"display:flex;flex:1;overflow:auto;align-items:flex-start"},ae={name:"1089mxj",styles:"white-space:pre-wrap"},re={name:"h55e3f",styles:"svg{rotate:90deg;}"},le={name:"1089mxj",styles:"white-space:pre-wrap"};const de=({baselineVersion:e,comparedVersion:o,onSwitchSides:s,onEditVersion:i,registeredPrompt:t,aliasesByVersion:a,showEditAliasesModal:r})=>{const{theme:l}=(0,m.u)(),d=(0,x.A)(),c=(0,f.useMemo)((()=>e?(0,h.dv)(e):""),[e]),p=(0,f.useMemo)((()=>o?(0,h.dv)(o):""),[o]),y=(0,f.useMemo)((()=>(0,h.yC)(c)),[c]),Y=(0,f.useMemo)((()=>(0,h.yC)(p)),[p]),M=(e,o)=>e?e.map((e=>`${e.role}: ${e.content}`)).join("\n\n"):null!==o&&void 0!==o?o:"",A=M(y,c),b=M(Y,p),k=(0,f.useMemo)((()=>{var e;return null!==(e=(0,ee.b2)(null!==A&&void 0!==A?A:"",null!==b&&void 0!==b?b:""))&&void 0!==e?e:[]}),[A,b]),V=(0,f.useMemo)((()=>({addedBackground:l.isDarkMode?l.colors.green700:l.colors.green300,removedBackground:l.isDarkMode?l.colors.red700:l.colors.red300})),[l]);return(0,w.FD)("div",{css:(0,n.AH)({flex:1,padding:l.spacing.md,paddingTop:0,borderRadius:l.borders.borderRadiusSm,overflow:"hidden",display:"flex",flexDirection:"column"},""),children:[(0,w.Y)("div",{css:oe,children:(0,w.Y)(m.T.Title,{level:3,children:(0,w.Y)(v.A,{id:"B8RvlZ",defaultMessage:"Comparing version {baseline} with version {compared}",values:{baseline:null===e||void 0===e?void 0:e.version,compared:null===o||void 0===o?void 0:o.version}})})}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.FD)("div",{css:se,children:[(0,w.Y)("div",{css:ne,children:(0,w.Y)(U,{aliasesByVersion:a,onEditVersion:i,registeredPrompt:t,registeredPromptVersion:e,showEditAliasesModal:r,isBaseline:!0})}),(0,w.Y)("div",{css:(0,n.AH)({paddingLeft:l.spacing.sm,paddingRight:l.spacing.sm},""),children:(0,w.Y)("div",{css:(0,n.AH)({width:l.general.heightSm},"")})}),(0,w.Y)("div",{css:ie,children:(0,w.Y)(U,{aliasesByVersion:a,onEditVersion:i,registeredPrompt:t,registeredPromptVersion:o,showEditAliasesModal:r})})]}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.FD)("div",{css:te,children:[(0,w.Y)("div",{css:(0,n.AH)({backgroundColor:l.colors.backgroundSecondary,padding:l.spacing.md,flex:1},""),children:(0,w.Y)(m.T.Text,{css:ae,children:A||"Empty"})}),(0,w.Y)("div",{css:(0,n.AH)({paddingLeft:l.spacing.sm,paddingRight:l.spacing.sm},""),children:(0,w.Y)(g.T,{componentId:"mlflow.prompts.details.switch_sides.tooltip",content:(0,w.Y)(v.A,{id:"Cbgg9B",defaultMessage:"Switch sides"}),side:"top",children:(0,w.Y)(m.B,{"aria-label":d.formatMessage({id:"Cbgg9B",defaultMessage:"Switch sides"}),componentId:"mlflow.prompts.details.switch_sides",icon:(0,w.Y)(u.ExpandMoreIcon,{css:re}),onClick:s})})}),(0,w.Y)("div",{css:(0,n.AH)({backgroundColor:l.colors.backgroundSecondary,padding:l.spacing.md,flex:1},""),children:(0,w.Y)(m.T.Text,{css:le,children:k.map(((e,o)=>(0,w.Y)("span",{css:(0,n.AH)({backgroundColor:e.added?V.addedBackground:e.removed?V.removedBackground:void 0,textDecoration:e.removed?"line-through":"none"},""),children:e.value},o)))})})]})]})};var ce=s(55570),pe=s(91113),me=s(68079),ue=s(73227);const ge=({promptEntity:e,onTagsUpdated:o})=>{const s=(0,x.A)(),{theme:i}=(0,m.u)(),{EditTagsModal:t,showEditPromptTagsModal:a}=(0,ue.i)({onSuccess:o}),r=(null===e||void 0===e?void 0:e.tags.filter((e=>(0,O.oD)(e.key))))||[],l=r.length>0;return(0,w.FD)("div",{css:(0,n.AH)({paddingTop:i.spacing.xs,paddingBottom:i.spacing.xs,display:"flex",flexWrap:"wrap",alignItems:"center","> *":{marginRight:"0 !important"},gap:i.spacing.xs},""),children:[null===r||void 0===r?void 0:r.map((e=>(0,w.Y)(z.t,{tag:e},e.key))),(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.tags.edit",size:"small",icon:l?(0,w.Y)(u.PencilIcon,{}):void 0,onClick:()=>e&&a(e),"aria-label":s.formatMessage({id:"DHO5TT",defaultMessage:"Edit tags"}),children:l?void 0:(0,w.Y)(v.A,{id:"Nlm9bK",defaultMessage:"Add tags"}),type:"tertiary"}),t]})};var ve=s(42110);function he({promptName:e}){return(0,w.Y)(ve.E,{statusCode:404,subMessage:`Prompt name '${e}' does not exist`,fallbackHomePageReactRoute:y.Ay.promptsPageRoute})}var fe=s(27042);var ye=s(99213);const Ye=e=>(0,w.Y)(v.A,{id:"b0KTgh",defaultMessage:"Add/edit alias for prompt version {version}",values:{version:e}});var Me={name:"1m5f2z8",styles:"overflow:hidden;display:flex;flex-direction:column"},we={name:"1rtaly3",styles:"flex:1;display:flex;overflow:hidden"},Ae={name:"1t91kdm",styles:"flex:1;display:flex;flex-direction:column"};const be=()=>{var e,o,s;const{promptName:i}=(0,c.g)(),{theme:A}=(0,m.u)(),b=(0,c.Zp)(),x=(0,a.wA)();t()(i,"Prompt name should be defined");const{data:k,refetch:V,isLoading:C,error:D}=(({promptName:e},o={})=>{var s;const n=(0,r.I)(["prompt_details",{promptName:e}],{queryFn:d,retry:!1,...o});return{data:n.data,error:null!==(s=n.error)&&void 0!==s?s:void 0,isLoading:n.isLoading,refetch:n.refetch}})({promptName:i}),{CreatePromptModal:T,openModal:S}=(0,Y.z)({mode:Y.v.CreatePromptVersion,registeredPrompt:null===k||void 0===k?void 0:k.prompt,latestVersion:(0,R.first)(null===k||void 0===k?void 0:k.versions),onSuccess:async({promptVersion:e})=>{await V(),e&&N({version:e})}}),{DeletePromptModal:P,openModal:B}=(({registeredPrompt:e,onSuccess:o})=>{const[s,n]=(0,f.useState)(!1),{mutate:i}=(0,M.n)({mutationFn:async({promptName:e})=>{await l.M.deleteRegisteredPrompt(e)}});return{DeletePromptModal:(0,w.Y)(g.d,{componentId:"mlflow.prompts.delete_modal",visible:s,onCancel:()=>n(!1),title:(0,w.Y)(v.A,{id:"p2po2x",defaultMessage:"Delete prompt"}),okText:(0,w.Y)(v.A,{id:"kgJSBI",defaultMessage:"Delete"}),okButtonProps:{danger:!0},onOk:async()=>{null!==e&&void 0!==e&&e.name?(i({promptName:e.name},{onSuccess:()=>{null===o||void 0===o||o(),n(!1)}}),n(!1)):n(!1)},cancelText:(0,w.Y)(v.A,{id:"ZlokCq",defaultMessage:"Cancel"}),children:(0,w.Y)(v.A,{id:"WVUF2N",defaultMessage:"Are you sure you want to delete the prompt?"})}),openModal:()=>n(!0)}})({registeredPrompt:null===k||void 0===k?void 0:k.prompt,onSuccess:()=>b(y.Ay.promptsPageRoute)}),{EditPromptVersionMetadataModal:F,showEditPromptVersionMetadataModal:L}=(({onSuccess:e})=>{const o=(0,M.n)({mutationFn:async({toAdd:e,toDelete:o,promptName:s,promptVersion:n})=>Promise.all([...e.map((({key:e,value:o})=>l.M.setRegisteredPromptVersionTag(s,n,e,o))),...o.map((({key:e})=>l.M.deleteRegisteredPromptVersionTag(s,n,e)))])}),{EditTagsModal:s,showEditTagsModal:n,isLoading:i}=(0,fe.Q)({title:(0,w.Y)(v.A,{id:"zxfWCx",defaultMessage:"Add/Edit Prompt Version Metadata"}),valueRequired:!0,saveTagsHandler:(s,n,i)=>{const{addedOrModifiedTags:t,deletedTags:a}=(0,O.Rf)(n,i);return new Promise(((n,i)=>{if(!s.name)return i();o.mutate({promptName:s.name,promptVersion:s.version,toAdd:t,toDelete:a},{onSuccess:()=>{n(),null===e||void 0===e||e()},onError:i})}))}});return{EditPromptVersionMetadataModal:s,showEditPromptVersionMetadataModal:(0,f.useCallback)((e=>{var o;return n({name:e.name,version:e.version,tags:null===(o=e.tags)||void 0===o?void 0:o.filter((e=>(0,O.oD)(e.key)))})}),[n]),isLoading:i}})({onSuccess:V}),{setCompareMode:H,setPreviewMode:N,setTableMode:z,switchSides:K,viewState:W,setSelectedVersion:q,setComparedVersion:U}=(e=>{const[o,s]=(0,f.useReducer)(_,{mode:h.Dp.PREVIEW}),n=(0,f.useCallback)((()=>{s({type:"setTableMode"})}),[]),i=(0,f.useCallback)((o=>{var n;const i=null===(n=null!==o&&void 0!==o?o:(0,R.first)(null===e||void 0===e?void 0:e.versions))||void 0===n?void 0:n.version;s({type:"setPreviewMode",selectedVersion:i})}),[e]),t=(0,f.useCallback)((e=>{s({type:"setSelectedVersion",selectedVersion:e})}),[]),a=(0,f.useCallback)((e=>{s({type:"setComparedVersion",comparedVersion:e})}),[]),r=(0,f.useCallback)((()=>{var o,n;const i=null===(o=(0,R.first)(null===e||void 0===e?void 0:e.versions))||void 0===o?void 0:o.version,t=null===e||void 0===e||null===(n=e.versions[1])||void 0===n?void 0:n.version;s({type:"setCompareMode",selectedVersion:t,comparedVersion:i})}),[e]),l=(0,f.useCallback)((()=>s({type:"switchSides"})),[]);return(0,R.first)(null===e||void 0===e?void 0:e.versions)&&o.mode===h.Dp.PREVIEW&&!o.selectedVersion&&i((0,R.first)(null===e||void 0===e?void 0:e.versions)),{viewState:o,setTableMode:n,setPreviewMode:i,setCompareMode:r,switchSides:l,setSelectedVersion:t,setComparedVersion:a}})(k),{mode:j}=W,$=!C&&!(null!==k&&void 0!==k&&k.versions.length),G=!C&&!$&&[h.Dp.PREVIEW,h.Dp.COMPARE].includes(j),Z=null===k||void 0===k?void 0:k.versions.find((({version:e})=>e===W.selectedVersion)),X=null===k||void 0===k?void 0:k.versions.find((({version:e})=>e===W.comparedVersion)),Q=(0,f.useMemo)((()=>{var e,o;const s={};return null===k||void 0===k||null===(e=k.prompt)||void 0===e||null===(o=e.aliases)||void 0===o||o.forEach((({alias:e,version:o})=>{s[o]||(s[o]=[]),s[o].push(e)})),s}),[k]),{EditAliasesModal:ee,showEditAliasesModal:oe}=(0,E.t)({aliases:null!==(e=null===k||void 0===k||null===(o=k.prompt)||void 0===o?void 0:o.aliases)&&void 0!==e?e:[],onSuccess:V,getTitle:Ye,onSave:async(e,o,s)=>{var n,i;return x((0,ye.mq)(null!==(n=null===k||void 0===k||null===(i=k.prompt)||void 0===i?void 0:i.name)&&void 0!==n?n:"",e,o,s))},description:(0,w.Y)(v.A,{id:"4GPLHq",defaultMessage:"Aliases allow you to assign a mutable, named reference to a particular prompt version."})});if(D)return(0,w.Y)(he,{promptName:i});const se=(0,w.Y)(u.Breadcrumb,{children:(0,w.Y)(u.Breadcrumb.Item,{children:(0,w.Y)(c.N_,{to:y.Ay.promptsPageRoute,children:"Prompts"})})});return C?(0,w.Y)(p.m,{children:(0,w.Y)(be.Skeleton,{breadcrumbs:se})}):(0,w.FD)(p.m,{css:Me,children:[(0,w.Y)(g.S,{shrinks:!1}),(0,w.Y)(u.Header,{breadcrumbs:se,title:null===k||void 0===k||null===(s=k.prompt)||void 0===s?void 0:s.name,buttons:(0,w.FD)(w.FK,{children:[(0,w.FD)(u.DropdownMenu.Root,{children:[(0,w.Y)(u.DropdownMenu.Trigger,{asChild:!0,children:(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.actions",icon:(0,w.Y)(u.OverflowIcon,{}),"aria-label":"More actions"})}),(0,w.Y)(u.DropdownMenu.Content,{children:(0,w.Y)(u.DropdownMenu.Item,{componentId:"mlflow.prompts.details.actions.delete",onClick:B,children:(0,w.Y)(v.A,{id:"BwgPX0",defaultMessage:"Delete"})})})]}),(0,w.Y)(m.B,{componentId:"mlflow.prompts.details.create",type:"primary",onClick:S,children:(0,w.Y)(v.A,{id:"RJenO+",defaultMessage:"Create prompt version"})})]})}),(0,w.Y)(ge,{onTagsUpdated:V,promptEntity:null===k||void 0===k?void 0:k.prompt}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.FD)("div",{css:we,children:[(0,w.FD)("div",{css:(0,n.AH)({flex:G?"0 0 320px":1,display:"flex",flexDirection:"column"},""),children:[(0,w.Y)("div",{css:(0,n.AH)({display:"flex",gap:A.spacing.sm},""),children:(0,w.FD)(u.SegmentedControlGroup,{name:"mlflow.prompts.details.mode",componentId:"mlflow.prompts.details.mode",value:j,disabled:C,children:[(0,w.Y)(u.SegmentedControlButton,{value:h.Dp.PREVIEW,onClick:()=>N(),children:(0,w.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:A.spacing.xs},""),children:[(0,w.Y)(u.ZoomMarqueeSelection,{}),(0,w.Y)(v.A,{id:"wrNl6F",defaultMessage:"Preview"})]})}),(0,w.Y)(u.SegmentedControlButton,{value:h.Dp.TABLE,onClick:z,children:(0,w.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:A.spacing.xs},""),children:[(0,w.Y)(u.TableIcon,{})," ",(0,w.Y)(v.A,{id:"guBsqD",defaultMessage:"List"})]})}),(0,w.Y)(u.SegmentedControlButton,{disabled:Boolean(!(null!==k&&void 0!==k&&k.versions.length)||(null===k||void 0===k?void 0:k.versions.length)<2),value:h.Dp.COMPARE,onClick:H,children:(0,w.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:A.spacing.xs},""),children:[(0,w.Y)(u.ColumnsIcon,{})," ",(0,w.Y)(v.A,{id:"SI6n4L",defaultMessage:"Compare"})]})})]})}),(0,w.Y)(g.S,{shrinks:!1,size:"sm"}),(0,w.Y)(I,{isLoading:C,registeredPrompt:null===k||void 0===k?void 0:k.prompt,promptVersions:null===k||void 0===k?void 0:k.versions,selectedVersion:W.selectedVersion,comparedVersion:W.comparedVersion,showEditAliasesModal:oe,aliasesByVersion:Q,onUpdateSelectedVersion:q,onUpdateComparedVersion:U,mode:j})]}),G&&(0,w.Y)("div",{css:Ae,children:(0,w.FD)("div",{css:(0,n.AH)({borderLeft:`1px solid ${A.colors.border}`,flex:1,overflow:"hidden",display:"flex"},""),children:[j===h.Dp.PREVIEW&&(0,w.Y)(J,{promptVersion:Z,onUpdatedContent:V,onDeletedVersion:async()=>{await V().then((({data:e})=>{!(0,R.isEmpty)(null===e||void 0===e?void 0:e.versions)&&null!==e&&void 0!==e&&e.versions[0].version?q(null===e||void 0===e?void 0:e.versions[0].version):z()}))},aliasesByVersion:Q,showEditAliasesModal:oe,registeredPrompt:null===k||void 0===k?void 0:k.prompt,showEditPromptVersionMetadataModal:L}),j===h.Dp.COMPARE&&(0,w.Y)(de,{baselineVersion:Z,comparedVersion:X,onSwitchSides:K,onEditVersion:N,showEditAliasesModal:oe,registeredPrompt:null===k||void 0===k?void 0:k.prompt,aliasesByVersion:Q})]})})]}),(0,w.Y)(g.S,{shrinks:!1}),ee,T,P,F]})};var xe={name:"1gt3dvv",styles:"flex:0 0 320px"},ke={name:"82a6rk",styles:"flex:1"};be.Skeleton=function({breadcrumbs:e}){const{theme:o}=(0,m.u)();return(0,w.FD)(w.FK,{children:[(0,w.Y)(g.S,{shrinks:!1}),(0,w.Y)(u.Header,{breadcrumbs:e,title:(0,w.Y)(u.GenericSkeleton,{css:(0,n.AH)({height:o.general.heightBase,width:200},"")}),buttons:(0,w.Y)(u.GenericSkeleton,{css:(0,n.AH)({height:o.general.heightBase,width:120},"")})}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.Y)(u.TableSkeleton,{lines:4}),(0,w.Y)(g.S,{shrinks:!1}),(0,w.FD)("div",{css:(0,n.AH)({display:"flex",gap:o.spacing.lg},""),children:[(0,w.Y)("div",{css:xe,children:(0,w.Y)(u.TableSkeleton,{lines:6})}),(0,w.Y)("div",{css:ke,children:(0,w.Y)(u.TableSkeleton,{lines:4})})]})]})};var Ve=(0,ce.X)(pe.A.mlflowServices.EXPERIMENTS,be,void 0,me.u)},29125:function(e,o,s){s.d(o,{q:function(){return a}});var n=s(27757),i=s(40724),t=s(73408);const a=({row:{original:e},getValue:o})=>{const s=o();return s?(0,t.Y)(n.T.Text,{children:(0,t.Y)(i.A,{id:"sM0MBJ",defaultMessage:"Version {version}",values:{version:s}})}):null}},30676:function(e,o,s){s.d(o,{z7:function(){return b},VE:function(){return M}});var n=s(76386),i=s(91215),t=s(49693),a=s(94066),r=s(3491),l=s(20515),d=s(27962),c=s(54921),p=s(94811),m=s(52394),u=s(76118),g=s(73408),v=(s(46709),s(16333)),h=s(74060),f=s(27757);var y={name:"1739oy8",styles:"z-index:1"};function Y({tooltipMessage:e,...o}){const s=y;return(0,g.Y)(h.LegacyTooltip,{title:e,children:(0,g.Y)(f.B,{componentId:"codegen_web-shared_src_snippet_actions_snippetactionbutton.tsx_33",...o,css:s})})}function M({copyText:e,onClick:o,...s}){const{actionIcon:n,tooltipMessage:i,copy:t}=(0,v.Ld)(e);return(0,g.Y)(Y,{tooltipMessage:i,icon:n,onClick:e=>{t(),null===o||void 0===o||o(e)},...s})}n.A.registerLanguage("sql",c.A),n.A.registerLanguage("java",t.A),n.A.registerLanguage("python",l.A),n.A.registerLanguage("go",i.A),n.A.registerLanguage("javascript",a.A),n.A.registerLanguage("yaml",d.A),n.A.registerLanguage("json",r.A);const w="24px",A={light:m.A,duotoneDark:p.A};function b({theme:e="light",language:o,actions:s,style:i,children:t,showLineNumbers:a,lineNumberStyle:r,wrapLongLines:l,wrapLines:d,PreTag:c}){const p={border:"none",borderRadius:0,margin:0,padding:w,...i};return(0,g.Y)(n.A,{showLineNumbers:a,lineNumberStyle:r,language:o,style:A[e],customStyle:p,codeTagProps:{style:(0,u.pick)(i,"backgroundColor")},wrapLongLines:l,wrapLines:d,PreTag:c,children:t})}},42747:function(e,o,s){s.d(o,{sA:function(){return n.sA},tz:function(){return n.tz},zR:function(){return n.zR}});var n=s(77680);s(13584)},44072:function(e,o,s){s.d(o,{a:function(){return r}});s(46709);var n=s(27757),i=s(79081),t=s(38815),a=s(73408);function r({buttonProps:e,componentId:o,copyText:s,copyTooltip:r,isInsideInputGroup:l=!1,onCopy:d,tooltipProps:c}){const{actionIcon:p,copy:m,handleTooltipOpenChange:u,tooltipOpen:g,tooltipMessage:v}=(0,t.L)(s,r,d),h=(0,a.Y)(n.B,{"aria-label":v,componentId:null!==o&&void 0!==o?o:"codegen_web-shared_src_copy_copyactionbutton.tsx_17",icon:p,onClick:m,size:"small",...e}),f=(0,a.Y)(n.B,{"aria-label":v,componentId:null!==o&&void 0!==o?o:"codegen_web-shared_src_copy_copyactionbutton.tsx_17",onClick:m,...e,children:p});return(0,a.Y)(i.T,{componentId:o?`${o}-tooltip`:"codegen_web-shared_src_copy_copyactionbutton.tsx_17-tooltip",content:v,onOpenChange:u,open:g,...c,children:l?f:h})}},52471:function(e,o,s){s.d(o,{Y:function(){return d}});var n=s(68248),i=s(27757),t=s(74060),a=s(93083),r=s(40724),l=s(73408);const d=({aliases:e=[],onAddEdit:o,className:s})=>{const{theme:d}=(0,i.u)();return(0,l.Y)("div",{css:(0,n.AH)({maxWidth:300,display:"flex",flexWrap:"wrap",alignItems:"flex-start","> *":{marginRight:"0 !important"},rowGap:d.spacing.xs/2,columnGap:d.spacing.xs},""),className:s,children:e.length<1?(0,l.Y)(i.B,{componentId:"codegen_mlflow_app_src_model-registry_components_aliases_modelversiontablealiasescell.tsx_30",size:"small",type:"link",onClick:o,children:(0,l.Y)(r.A,{id:"pU6cxH",defaultMessage:"Add"})}):(0,l.FD)(l.FK,{children:[e.map((e=>(0,l.Y)(a.Z,{value:e,css:(0,n.AH)({marginTop:d.spacing.xs/2},"")},e))),(0,l.Y)(i.B,{componentId:"codegen_mlflow_app_src_model-registry_components_aliases_modelversiontablealiasescell.tsx_41",size:"small",icon:(0,l.Y)(t.PencilIcon,{}),onClick:o})]})})}},60312:function(e,o,s){s.d(o,{m:function(){return a}});var n=s(74060),i=s(73408);var t={name:"13udsys",styles:"height:100%"};const a=({children:e,className:o})=>(0,i.Y)(n.PageWrapper,{css:t,className:o,children:e})},67850:function(e,o,s){s.d(o,{i:function(){return c}});var n=s(68248),i=(s(46709),s(27757)),t=s(74060),a=s(30676),r=s(91701),l=s(73408);var d={name:"bjn8wh",styles:"position:relative"};const c=({code:e})=>{const{theme:o}=(0,i.u)();return(0,l.FD)("div",{css:d,children:[(0,l.Y)(r.i,{css:(0,n.AH)({zIndex:1,position:"absolute",top:o.spacing.xs,right:o.spacing.xs},""),showLabel:!1,copyText:e,icon:(0,l.Y)(t.CopyIcon,{})}),(0,l.Y)(a.z7,{language:"python",showLineNumbers:!1,style:{padding:o.spacing.sm,color:o.colors.textPrimary,backgroundColor:o.colors.backgroundSecondary,whiteSpace:"pre-wrap"},wrapLongLines:!0,children:e})]})}},68079:function(e,o,s){s.d(o,{u:function(){return d}});var n=s(74060),i=s(27757),t=s(40724),a=s(60312),r=s(73408);var l={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const d=({error:e})=>{var o;return(0,r.Y)(a.m,{css:l,children:(0,r.Y)(n.Empty,{"data-testid":"fallback",title:(0,r.Y)(t.A,{id:"AOoWxS",defaultMessage:"Error"}),description:null!==(o=null===e||void 0===e?void 0:e.message)&&void 0!==o?o:(0,r.Y)(t.A,{id:"zmMR5p",defaultMessage:"An error occurred while rendering this component."}),image:(0,r.Y)(i.k,{})})})}},73227:function(e,o,s){s.d(o,{i:function(){return l}});var n=s(61060),i=s(27042),t=s(59795),a=s(46709),r=s(181);const l=({onSuccess:e})=>{const o=(0,n.n)({mutationFn:async({toAdd:e,toDelete:o,promptId:s})=>Promise.all([...e.map((({key:e,value:o})=>t.M.setRegisteredPromptTag(s,e,o))),...o.map((({key:e})=>t.M.deleteRegisteredPromptTag(s,e)))])}),{EditTagsModal:s,showEditTagsModal:l,isLoading:d}=(0,i.Q)({valueRequired:!0,saveTagsHandler:(s,n,i)=>{const{addedOrModifiedTags:t,deletedTags:a}=(0,r.Rf)(n,i);return new Promise(((n,i)=>{if(!s.name)return i();o.mutate({promptId:s.name,toAdd:t,toDelete:a},{onSuccess:()=>{n(),null===e||void 0===e||e()},onError:i})}))}});return{EditTagsModal:s,showEditPromptTagsModal:(0,a.useCallback)((e=>l({name:e.name,tags:e.tags.filter((e=>(0,r.oD)(e.key)))})),[l]),isLoading:d}}},91701:function(e,o,s){s.d(o,{i:function(){return d}});var n=s(46709),i=s(40724),t=s(74060),a=s(27757),r=s(73408);var l={name:"1739oy8",styles:"z-index:1"};const d=({copyText:e,showLabel:o=!0,componentId:s,...d})=>{const[c,p]=(0,n.useState)(!1);return(0,r.Y)(t.LegacyTooltip,{title:(0,r.Y)(i.A,{id:"X+boXI",defaultMessage:"Copied"}),dangerouslySetAntdProps:{visible:c},children:(0,r.Y)(a.B,{componentId:null!==s&&void 0!==s?s:"mlflow.shared.copy_button",type:"primary",onClick:()=>{navigator.clipboard.writeText(e),p(!0),setTimeout((()=>{p(!1)}),3e3)},onMouseLeave:()=>{p(!1)},css:l,children:o?(0,r.Y)(i.A,{id:"1Iq+NW",defaultMessage:"Copy"}):void 0,...d})})}},93083:function(e,o,s){s.d(o,{Z:function(){return r}});var n=s(68248),i=s(27757),t=s(74060),a=s(73408);const r=({value:e,closable:o,onClose:s,className:r,compact:l=!1})=>{const{theme:d}=(0,i.u)();return(0,a.Y)(t.Tag,{componentId:"codegen_mlflow_app_src_model-registry_components_aliases_modelversionaliastag.tsx_23",css:(0,n.AH)({fontWeight:d.typography.typographyBoldFontWeight,marginRight:d.spacing.xs},""),className:r,closable:o,onClose:s,title:e,children:(0,a.FD)("span",{css:(0,n.AH)({display:"block",whiteSpace:"nowrap",maxWidth:l?160:300,textOverflow:"ellipsis",overflow:"hidden"},""),children:["@","\xa0",e]})})}}}]);