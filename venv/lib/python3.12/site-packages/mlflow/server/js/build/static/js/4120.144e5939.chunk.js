"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4120],{18705:function(e,n,t){t.d(n,{b:function(){return r}});var i=t(34794);const r=e=>{if(e)return e instanceof i.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.message||e.toString())).join(", "):"message"in e?e.message:e.toString()}},36802:function(e,n,t){t.d(n,{B:function(){return m}});var i=t(46709),r=t(91105),a=t(60284),s=t(44105),o=t(54741),l=t(91944),d=t(21678);const m=({enabled:e,experimentId:n})=>{const t=(0,r.Zp)(),{data:m,loading:c}=(0,o.L)({experimentId:n,options:{skip:!e}}),u=(0,i.useMemo)((()=>{if(c||!m)return null;const e=m&&"tags"in m?null===m||void 0===m?void 0:m.tags:[];if(m){const n=(0,l.BH)(e);return(0,d.SK)(s.Gk,n,s.Gk.NO_INFERRED_TYPE)}return null}),[m,c]);return(0,i.useEffect)((()=>{if(!e||!u)return;let i=s.fM.Runs;u===s.Gk.GENAI_DEVELOPMENT&&(i=s.fM.Traces),t(a.Ay.getExperimentPageTabRoute(n,i),{replace:!0})}),[t,n,e,u]),{isEnabled:e,isLoading:e&&c}}},36839:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var i=t(68248),r=t(46709),a=t(27757),s=t(79081),o=t(74060),l=t(36476),d=t(59930),m=t.n(d),c=t(91105),u=t(54741),g=t(56530),p=t(5690),f=t(43233),h=t(76118);var b=t(17509),v=t(53935),x=t(18705),E=t(40724),T=t(47824),Y=t(73408);const M=({experiment:e,loading:n,onNoteUpdated:t,error:s,experimentKindSelector:l,inferredExperimentKind:d,refetchExperiment:m})=>{var c,u;const{theme:g}=(0,a.u)(),[p,f]=(0,r.useState)(!0),[h,M]=(0,r.useState)(!1),y=(0,r.useMemo)((()=>{const n=e;return n?{...n,creationTime:Number(null===n||void 0===n?void 0:n.creationTime),lastUpdateTime:Number(null===n||void 0===n?void 0:n.lastUpdateTime)}:null}),[e]),A=null===y||void 0===y||null===(c=y.tags)||void 0===c||null===(u=c.find((e=>e.key===v.e)))||void 0===u?void 0:u.value,S=(0,x.b)(s);return n?(0,Y.Y)(T.J,{}):S?(0,Y.Y)("div",{css:(0,i.AH)({height:g.general.heightBase,marginTop:g.spacing.sm,marginBottom:g.spacing.md},""),children:(0,Y.Y)(o.Alert,{componentId:"mlflow.logged_model.list.header.error",type:"error",message:(0,Y.Y)(E.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:S}}),closable:!1})}):y?(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(T.i,{experiment:y,inferredExperimentKind:d,setEditing:M,experimentKindSelector:l,refetchExperiment:m}),(0,Y.Y)(b.A,{experiment:y,setShowAddDescriptionButton:f,editing:h,setEditing:M,onNoteUpdated:t,defaultValue:A})]}):null};var y=t(21678),A=t(44105),S=t(31655),P=t(42033),I=t(60323),R=t(91944),L=t(83432),k=t(56364),D=t(60284);var N={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const K=({experimentId:e,activeTab:n})=>{const{theme:t}=(0,a.u)();return(0,Y.Y)(o.Tabs.Root,{componentId:e,value:n,css:N,children:(0,Y.FD)(o.Tabs.List,{children:[(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.EvaluationRuns,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.EvaluationRuns),children:(0,Y.Y)(E.A,{id:"eAFhRf",defaultMessage:"Runs"})})}),(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.Datasets,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.Datasets),children:(0,Y.Y)(E.A,{id:"iVrgfC",defaultMessage:"Datasets"})})})]})})};var B={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const F=({experimentId:e,activeTab:n})=>{const{theme:t}=(0,a.u)();return(0,Y.Y)(o.Tabs.Root,{componentId:"mlflow.labeling-sub-tab-selector",value:n,css:B,children:(0,Y.FD)(o.Tabs.List,{children:[(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.LabelingSessions,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.LabelingSessions),children:(0,Y.Y)(E.A,{id:"0vs7Wu",defaultMessage:"Sessions"})})}),(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.LabelingSchemas,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.LabelingSchemas),children:(0,Y.Y)(E.A,{id:"iKSfnk",defaultMessage:"Schemas"})})})]})})};var _=t(35154),w=t(36802);const z=r.lazy((()=>Promise.all([t.e(3617),t.e(5759),t.e(9460),t.e(8975),t.e(683),t.e(4499),t.e(8911),t.e(3032),t.e(6363),t.e(3865),t.e(8670),t.e(5602),t.e(2354),t.e(5096),t.e(1538),t.e(9594),t.e(8555),t.e(9174),t.e(5167),t.e(7883),t.e(1268),t.e(4802),t.e(1573),t.e(870)]).then(t.bind(t,57184)))),H=r.lazy((()=>Promise.all([t.e(3617),t.e(5759),t.e(9460),t.e(8975),t.e(3032),t.e(6363),t.e(3865),t.e(8670),t.e(5602),t.e(5096),t.e(5167),t.e(7883),t.e(3175)]).then(t.bind(t,82168)))),G=r.lazy((()=>Promise.all([t.e(3617),t.e(5759),t.e(9460),t.e(683),t.e(4499),t.e(8911),t.e(1575),t.e(2354),t.e(1538),t.e(9594),t.e(8555),t.e(9174),t.e(5528),t.e(5776),t.e(9679),t.e(3447)]).then(t.bind(t,215)))),V=r.lazy((()=>Promise.all([t.e(3617),t.e(5759),t.e(9460),t.e(8975),t.e(683),t.e(4499),t.e(8911),t.e(6363),t.e(3865),t.e(8670),t.e(5602),t.e(2354),t.e(5096),t.e(1538),t.e(9594),t.e(8555),t.e(4802),t.e(1299),t.e(6572)]).then(t.bind(t,35406)))),U=r.lazy((()=>Promise.all([t.e(3617),t.e(5759),t.e(8670),t.e(7576)]).then(t.bind(t,86841)))),C=()=>{const{experimentId:e,tabName:n}=(0,c.g)(),{theme:t}=(0,a.u)(),d=(0,c.Zp)(),{tabName:b}=(0,_.H)(),v=null!==b&&void 0!==b?b:(0,y.SK)(A.fM,n,A.fM.Models);m()(e,"Experiment ID must be defined"),(0,S.BV)()||m()(n,"Tab name must be defined");const{data:x,loading:E,refetch:T,apiError:N,apolloError:B}=(0,u.L)({experimentId:e}),{mutate:C,isLoading:O}=(0,P.G)(T),Q=null!==N&&void 0!==N?N:B;if((e=>{const n=(0,g.wA)();(0,r.useEffect)((()=>{const t=(0,h.get)(e,"experimentId");e&&t&&n(((n,i)=>{var r,a;Boolean(null===(r=i().entities)||void 0===r||null===(a=r.experimentsById)||void 0===a?void 0:a[t])||n({type:(0,f.ec)(p.gT),payload:{experiment:e}})}))}),[e,n])})(x),Q instanceof l.ZR)throw Q;const Z=x&&"tags"in x?null===x||void 0===x?void 0:x.tags:[],X=(0,R.BH)(Z),{inferredExperimentKind:$,inferredExperimentPageTab:j,isLoading:J,dismiss:W}=(0,L.F)({experimentId:e,isLoadingExperiment:E,enabled:(0,S.XQ)()&&!X,experimentTags:Z,updateExperimentKind:C}),{pathname:q}=(0,c.zy)(),ee=Boolean((0,c.B6)(D.AY.experimentPage,q));return(0,w.B)({enabled:(0,S.BV)()&&ee,experimentId:e}),(0,r.useEffect)((()=>{j&&d(D.Ay.getExperimentPageTabRoute(e,j),{replace:!0})}),[e,j]),$===A.Gk.NO_INFERRED_TYPE&&(0,S.XQ)()?(0,Y.Y)(k.T,{onConfirm:n=>{C({experimentId:e,kind:n},{onSettled:()=>{W(),(0,S.BV)()&&n===A.Gk.GENAI_DEVELOPMENT&&d(D.Ay.getExperimentPageTabRoute(e,A.fM.Traces),{replace:!0})}})},onDismiss:W}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(M,{experiment:x,loading:E||J,onNoteUpdated:T,error:Q,inferredExperimentKind:$,refetchExperiment:T,experimentKindSelector:(0,Y.Y)(I.f,{value:X,inferredExperimentKind:$,onChange:n=>C({experimentId:e,kind:n}),isUpdating:O||J,readOnly:!1},$)}),v===A.fM.EvaluationRuns||v===A.fM.Datasets?(0,Y.Y)(K,{experimentId:e,activeTab:v}):v===A.fM.LabelingSessions||v===A.fM.LabelingSchemas?(0,Y.Y)(F,{experimentId:e,activeTab:v}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(s.S,{size:"sm",shrinks:!1}),(0,Y.Y)("div",{css:(0,i.AH)({width:"100%",borderTop:`1px solid ${t.colors.border}`},"")})]}),(0,Y.Y)(s.S,{size:"sm",shrinks:!1}),(0,Y.Y)(r.Suspense,{fallback:(0,Y.Y)(Y.FK,{children:[...Array(8).keys()].map((e=>(0,Y.Y)(o.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e)))}),children:(0,S.BV)()?(0,Y.Y)(c.sv,{}):(0,Y.FD)(Y.FK,{children:[v===A.fM.Traces&&(0,Y.Y)(H,{}),v===A.fM.Runs&&(0,Y.Y)(z,{}),v===A.fM.Models&&(0,Y.Y)(G,{}),v===A.fM.EvaluationRuns&&(0,Y.Y)(V,{}),v===A.fM.Datasets&&(0,Y.Y)(U,{})]})})]})};var O=()=>{const{theme:e}=(0,a.u)();return(0,Y.Y)("div",{css:(0,i.AH)({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",padding:e.spacing.md,height:"100%"},""),children:(0,Y.Y)(C,{})})}}}]);