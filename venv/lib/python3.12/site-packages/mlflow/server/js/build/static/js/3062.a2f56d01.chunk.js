"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[3062],{15765:function(e,t,n){n.d(t,{Ap:function(){return h},GE:function(){return g},In:function(){return m},Vf:function(){return f},Yj:function(){return u},Z0:function(){return a},f9:function(){return d},hA:function(){return i},jO:function(){return p},lg:function(){return c},uQ:function(){return o}});const i=e=>{const t=e.split("/");return t[t.length-1]},o=e=>{const t=e.split(/[./]/);return t[t.length-1]},a=e=>{const t=o(e).toLowerCase();return t in l?l[t]:t},s="mlproject",r="mlmodel",l={[s.toLowerCase()]:"yaml",[r.toLowerCase()]:"yaml"},d=new Set(["jpg","bmp","jpeg","png","gif","svg"]),c=new Set(["txt","log","err","cfg","conf","cnf","cf","ini","properties","prop","hocon","toml","yaml","yml","xml","json","js","py","py3","md","rst",s.toLowerCase(),r.toLowerCase(),"jsonnet"]),p=new Set(["html"]),u=new Set(["geojson"]),h=new Set(["pdf"]),g=new Set(["csv","tsv"]),m=new Set(["m4a","mp3","mp4","wav","aac","wma","flac","opus","ogg"]),f=new Set(["mp4","mov","mkv","webm","avi"])},26349:function(e,t,n){n.d(t,{A:function(){return ke}});var i=n(46709),o=n(15765),a=n(181),s=n(44105),r=n(74060),l=n(65765),d=n(67005),c=n(36961),p=n(73408);var u={name:"82a6rk",styles:"flex:1"};const h={imageOuterContainer:{padding:"10px",overflow:"scroll",background:"white",minHeight:"100%"},imageWrapper:{display:"inline-block"},image:{cursor:"pointer","&:hover":{boxShadow:"0 0 4px gray"}},hidden:{display:"none"}};var g=({experimentId:e,runUuid:t,path:n,getArtifact:o=l.xC,isLoggedModelsMode:a,loggedModelId:s,entityTags:g})=>{const[m,f]=(0,i.useState)(!0),[v,w]=(0,i.useState)(!1),[y,Y]=(0,i.useState)(null);return(0,i.useEffect)((()=>{f(!0),(0,c.F)({runUuid:t,path:n,isLoggedModelsMode:a,loggedModelId:s,experimentId:e,entityTags:g},o).then((e=>{const t=n.toLowerCase().endsWith(".svg")?{type:"image/svg+xml"}:void 0;Y(URL.createObjectURL(new Blob([new Uint8Array(e)],t))),f(!1)}))}),[t,n,o,a,s,e,g]),y&&(0,p.Y)("div",{css:u,children:(0,p.FD)("div",{css:h.imageOuterContainer,children:[m&&(0,p.Y)(r.LegacySkeleton,{active:!0}),(0,p.Y)("div",{css:m?h.hidden:h.imageWrapper,children:(0,p.Y)("img",{alt:n,css:h.image,src:y,onLoad:()=>f(!1),onClick:()=>w(!0)})}),(0,p.Y)("div",{css:[h.hidden,""],children:(0,p.Y)(d.b,{visible:v,onVisibleChange:w,children:(0,p.Y)(d._,{src:y})})})]})})},m=n(69484),f=n(90936),v=n(27757),w=n(38975),y=n(71055);class Y extends i.Component{constructor(e){super(e),this.state={loading:!0,error:void 0,text:void 0,path:void 0},this.fetchArtifacts=this.fetchArtifacts.bind(this)}componentDidMount(){this.fetchArtifacts()}componentDidUpdate(e){this.props.path===e.path&&this.props.runUuid===e.runUuid||this.fetchArtifacts()}render(){if(this.state.loading||this.state.path!==this.props.path)return(0,p.Y)(w.$,{className:"artifact-text-view-loading"});if(this.state.error)return(0,p.Y)(y.F,{className:"artifact-text-view-error"});{const e=(this.props.size||0)>102400?"text":(0,o.Z0)(this.props.path),{theme:t}=this.props.designSystemThemeApi,n={fontFamily:"Source Code Pro,Menlo,monospace",fontSize:t.typography.fontSizeMd,overflow:"auto",marginTop:"0",width:"100%",height:"100%",padding:t.spacing.xs,borderColor:t.colors.borderDecorative,border:"none"},i=this.state.text?function(e,t){if("json"===e){try{const e=JSON.parse(t);return JSON.stringify(e,null,2)}catch(n){}return t}return t}(e,this.state.text):this.state.text,a=t.isDarkMode?f.iU:f.ge;return(0,p.Y)("div",{className:"mlflow-ShowArtifactPage",children:(0,p.Y)("div",{className:"text-area-border-box",children:(0,p.Y)(m.A,{language:e,style:a,customStyle:n,children:null!==i&&void 0!==i?i:""})})})}}fetchArtifacts(){var e,t;this.setState({loading:!0});const{isLoggedModelsMode:n,loggedModelId:i,path:o,runUuid:a,experimentId:s,entityTags:r}=this.props;null===(e=(t=this.props).getArtifact)||void 0===e||e.call(t,{isLoggedModelsMode:n,loggedModelId:i,path:o,runUuid:a,experimentId:s,entityTags:r},l.Y0).then((e=>{this.setState({text:e,loading:!1})})).catch((e=>{this.setState({error:e,loading:!1})})),this.setState({path:this.props.path})}}Y.defaultProps={getArtifact:c.F};var x=i.memo((0,v.at)(Y)),M=n(22544);const A=i.lazy((()=>Promise.all([n.e(2859),n.e(3809)]).then(n.bind(n,37662)))),b=e=>(0,p.Y)(M.g,{children:(0,p.Y)(i.Suspense,{fallback:(0,p.Y)(r.LegacySkeleton,{active:!0}),children:(0,p.Y)(A,{...e})})});var S=n(82008);class k extends i.Component{constructor(e){super(e),this.state={loading:!0,error:void 0,html:"",path:""},this.getBlobURL=(e,t)=>{const n=new Blob([e],{type:t});return URL.createObjectURL(n)},this.fetchArtifacts=this.fetchArtifacts.bind(this)}componentDidMount(){this.fetchArtifacts()}componentDidUpdate(e){this.props.path===e.path&&this.props.runUuid===e.runUuid||this.fetchArtifacts()}render(){return this.state.loading||this.state.path!==this.props.path?(0,p.Y)(w.$,{className:"artifact-html-view-loading"}):this.state.error?(console.error("Unable to load HTML artifact, got error "+this.state.error),(0,p.Y)("div",{className:"artifact-html-view-error",children:"Oops we couldn't load your file because of an error."})):(0,p.Y)("div",{className:"mlflow-artifact-html-view",children:(0,p.Y)(S.A,{url:"",src:this.getBlobURL(this.state.html,"text/html"),width:"100%",height:"100%",id:"html",className:"mlflow-html-iframe",display:"block",position:"relative",sandbox:"allow-scripts"})})}fetchArtifacts(){var e,t;const{path:n,runUuid:i,isLoggedModelsMode:o,loggedModelId:a,experimentId:s,entityTags:r}=this.props;null===(e=(t=this.props).getArtifact)||void 0===e||e.call(t,{path:n,runUuid:i,isLoggedModelsMode:o,loggedModelId:a,experimentId:s,entityTags:r},l.Y0).then((e=>{this.setState({html:e,loading:!1,path:this.props.path})})).catch((e=>{this.setState({error:e,loading:!1,path:this.props.path})}))}}k.defaultProps={getArtifact:c.F};var C=k;const T=i.lazy((()=>Promise.all([n.e(9686),n.e(4369)]).then(n.bind(n,4369)))),F=e=>(0,p.Y)(M.g,{children:(0,p.Y)(i.Suspense,{fallback:(0,p.Y)(r.LegacySkeleton,{active:!0}),children:(0,p.Y)(T,{...e})})}),L=i.lazy((()=>n.e(5751).then(n.bind(n,35751)))),D=e=>(0,p.Y)(M.g,{children:(0,p.Y)(i.Suspense,{fallback:(0,p.Y)(r.LegacySkeleton,{active:!0}),children:(0,p.Y)(L,{...e})})});var I=n(80511),R=n.n(I),N=n(65181),P=n(24523),z=n(40724),_=n(84173),U=n(67850);const{Paragraph:K,Text:H,Title:j}=v.T;var E={name:"18uqayh",styles:"margin-bottom:16px"},q={name:"18uqayh",styles:"margin-bottom:16px"};class G extends i.Component{constructor(e){super(e),this.state={loading:!0,error:void 0,inputs:void 0,outputs:void 0,flavor:void 0,loader_module:void 0,hasInputExample:!1},this.fetchLoggedModelMetadata=this.fetchLoggedModelMetadata.bind(this)}componentDidMount(){this.fetchLoggedModelMetadata()}componentDidUpdate(e){this.props.path===e.path&&this.props.runUuid===e.runUuid||this.fetchLoggedModelMetadata()}renderModelRegistryText(){return this.props.registeredModelLink?(0,p.Y)(p.FK,{children:(0,p.Y)(z.A,{id:"BQt0TQ",defaultMessage:"This model is also registered to the <link>model registry</link>.",values:{link:e=>(0,p.Y)("a",{href:G.getLearnModelRegistryLinkUrl(),target:"_blank",children:e})}})}):(0,p.Y)(p.FK,{children:(0,p.Y)(z.A,{id:"js4/Y8",defaultMessage:"You can also <link>register it to the model registry</link> to version control",values:{link:e=>(0,p.Y)("a",{href:G.getLearnModelRegistryLinkUrl(),target:"_blank",children:e})}})})}sparkDataFrameCodeText(e){return`import mlflow\nfrom pyspark.sql.functions import struct, col\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"O1rYVN",defaultMessage:"Load model as a Spark UDF. Override result_type if the model does not return double values."})}\nloaded_model = mlflow.pyfunc.spark_udf(spark, model_uri=logged_model)\n\n# ${this.props.intl.formatMessage({id:"OEGyWZ",defaultMessage:"Predict on a Spark DataFrame."})}\ndf.withColumn('predictions', loaded_model(struct(*map(col, df.columns))))`}loadModelCodeText(e,t){return`import mlflow\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"6bmLqb",defaultMessage:"Load model"})}\nloaded_model = mlflow.${t}.load_model(logged_model)\n`}pandasDataFrameCodeText(e){return`import mlflow\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"kV2Dw/",defaultMessage:"Load model as a PyFuncModel."})}\nloaded_model = mlflow.pyfunc.load_model(logged_model)\n\n# ${this.props.intl.formatMessage({id:"IKx3DN",defaultMessage:"Predict on a Pandas DataFrame."})}\nimport pandas as pd\nloaded_model.predict(pd.DataFrame(data))`}mlflowSparkCodeText(e){return`import mlflow\nlogged_model = '${e}'\n\n# ${this.props.intl.formatMessage({id:"NFUJyk",defaultMessage:"Load model"})}\nloaded_model = mlflow.spark.load_model(logged_model)\n\n# ${this.props.intl.formatMessage({id:"ZGrkWk",defaultMessage:"Perform inference via model.transform()"})}\nloaded_model.transform(data)`}validateModelPredict(e){return this.state.hasInputExample?`import mlflow\nfrom mlflow.models import Model\n\nmodel_uri = '${e}'\n# The model is logged with an input example\npyfunc_model = mlflow.pyfunc.load_model(model_uri)\ninput_data = pyfunc_model.input_example\n\n# Verify the model with the provided input data using the logged dependencies.\n# For more details, refer to:\n# https://mlflow.org/docs/latest/models.html#validate-models-before-deployment\nmlflow.models.predict(\n    model_uri=model_uri,\n    input_data=input_data,\n    env_manager="uv",\n)`:`import mlflow\n\nmodel_uri = '${e}'\n\n# Replace INPUT_EXAMPLE with your own input example to the model\n# A valid input example is a data instance suitable for pyfunc prediction\ninput_data = INPUT_EXAMPLE\n\n# Verify the model with the provided input data using the logged dependencies.\n# For more details, refer to:\n# https://mlflow.org/docs/latest/models.html#validate-models-before-deployment\nmlflow.models.predict(\n    model_uri=model_uri,\n    input_data=input_data,\n    env_manager="uv",\n)`}renderNonPyfuncCodeSnippet(){const{flavor:e}=this.state,{runUuid:t,path:n}=this.props,i=`runs:/${t}/${n}`;return"mleap"===e?(0,p.Y)(p.FK,{}):(0,p.FD)(p.FK,{children:[(0,p.Y)(j,{level:3,children:(0,p.Y)(z.A,{id:"2NfDVN",defaultMessage:"Load the model"})}),(0,p.Y)("div",{className:"artifact-logged-model-view-code-content",children:(0,p.FD)("div",{children:[(0,p.Y)(U.i,{code:this.loadModelCodeText(i,e)}),(0,p.Y)(z.A,{id:"bHuphj",defaultMessage:"See the documents below to learn how to customize this model and deploy it for batch or real-time scoring using the pyfunc model flavor."}),(0,p.FD)("ul",{children:[(0,p.Y)("li",{children:(0,p.Y)("a",{href:P.HC,children:"API reference for the mlflow.pyfunc module"})}),(0,p.Y)("li",{children:(0,p.Y)("a",{href:P.A6,children:"Creating custom Pyfunc models"})})]})]})})]})}renderPandasDataFramePrediction(e){return(0,p.FD)("div",{css:E,children:[(0,p.Y)(H,{children:(0,p.Y)(z.A,{id:"GXayIF",defaultMessage:"Predict on a Pandas DataFrame:"})}),(0,p.Y)(U.i,{code:this.pandasDataFrameCodeText(e)})]})}renderPyfuncCodeSnippet(){if("mlflow.spark"===this.state.loader_module)return this.renderMlflowSparkCodeSnippet();const{runUuid:e,path:t}=this.props,n=`runs:/${e}/${t}`;return(0,p.FD)(p.FK,{children:[(0,p.Y)(j,{level:3,children:(0,p.Y)(z.A,{id:"r3/K3V",defaultMessage:"Make Predictions"})}),(0,p.FD)("div",{className:"artifact-logged-model-view-code-content",children:[this.renderPandasDataFramePrediction(n),(0,p.Y)(H,{children:(0,p.Y)(z.A,{id:"6xPc4W",defaultMessage:"Predict on a Spark DataFrame:"})}),(0,p.Y)(U.i,{code:this.sparkDataFrameCodeText(n)})]})]})}renderMlflowSparkCodeSnippet(){const{runUuid:e,path:t}=this.props,n=`runs:/${e}/${t}`;return(0,p.FD)(p.FK,{children:[(0,p.Y)(j,{level:3,children:(0,p.Y)(z.A,{id:"r3/K3V",defaultMessage:"Make Predictions"})}),(0,p.FD)("div",{className:"artifact-logged-model-view-code-content",children:[this.renderPandasDataFramePrediction(n),(0,p.Y)(U.i,{code:this.mlflowSparkCodeText(n)})]})]})}renderModelPredict(e){return(0,p.FD)("div",{css:q,children:[(0,p.Y)(H,{children:(0,p.Y)(z.A,{id:"7Y0hIS",defaultMessage:"Run the following code to validate model inference works on the example input data and logged model dependencies, prior to deploying it to a serving endpoint"})}),(0,p.Y)(U.i,{code:this.validateModelPredict(e)})]})}renderModelPredictCodeSnippet(){const{runUuid:e,path:t}=this.props,n=`runs:/${e}/${t}`;return(0,p.FD)(p.FK,{children:[(0,p.Y)(j,{level:3,children:(0,p.Y)(z.A,{id:"5B5dhT",defaultMessage:"Validate the model before deployment"})}),(0,p.Y)("div",{className:"artifact-logged-model-view-code-content",children:this.renderModelPredict(n)})]})}render(){return this.state.loading?(0,p.Y)(w.$,{className:"artifact-logged-model-view-loading"}):this.state.error?(0,p.Y)(y.F,{className:"artifact-logged-model-view-error",description:(0,p.Y)(z.A,{id:"81+fJx",defaultMessage:"Couldn't load model information due to an error."})}):(0,p.Y)("div",{className:"mlflow-ShowArtifactPage",children:(0,p.FD)("div",{className:"mlflow-show-artifact-logged-model-view",children:[(0,p.FD)("div",{className:"artifact-logged-model-view-header",style:{marginTop:16,marginBottom:16,marginLeft:16},children:[(0,p.Y)(j,{level:2,children:(0,p.Y)(z.A,{id:"z2Gyuw",defaultMessage:"MLflow Model"})}),"pyfunc"===this.state.flavor?(0,p.Y)(z.A,{id:"ySno61",defaultMessage:"The code snippets below demonstrate how to make predictions using the logged model."}):(0,p.Y)(z.A,{id:"25EUlg",defaultMessage:"The code snippets below demonstrate how to load the logged model."})," ",this.renderModelRegistryText()]}),(0,p.Y)("hr",{}),(0,p.FD)("div",{className:"artifact-logged-model-view-schema-table",style:{width:"45%",marginLeft:16,float:"left"},children:[(0,p.Y)(j,{level:3,children:(0,p.Y)(z.A,{id:"27oNFE",defaultMessage:"Model schema"})}),(0,p.Y)("div",{className:"content",children:(0,p.Y)(H,{children:(0,p.Y)(z.A,{id:"GAJL1v",defaultMessage:"Input and output schema for your model. <link>Learn more</link>",values:{link:e=>(0,p.Y)("a",{href:P.$L,target:"_blank",children:e})}})})}),(0,p.Y)("div",{style:{marginTop:12},children:(0,p.Y)(N.i,{schema:{inputs:this.state.inputs,outputs:this.state.outputs},defaultExpandAllRows:!0})})]}),(0,p.FD)("div",{className:"artifact-logged-model-view-code-group",style:{width:"50%",marginRight:16,float:"right"},children:[this.renderModelPredictCodeSnippet(),"pyfunc"===this.state.flavor?this.renderPyfuncCodeSnippet():this.renderNonPyfuncCodeSnippet()]})]})})}fetchLoggedModelMetadata(){const e=`${this.props.path}/${s.eh}`,{getArtifact:t,path:n,runUuid:i,experimentId:o,entityTags:a}=this.props;(0,c.F)({path:e,runUuid:i,experimentId:o,entityTags:a},t).then((e=>{const t=R().load(e);if(t.signature){const e=Array.isArray(t.signature.inputs)?t.signature.inputs:JSON.parse(t.signature.inputs||"[]"),n=Array.isArray(t.signature.outputs)?t.signature.outputs:JSON.parse(t.signature.outputs||"[]");this.setState({inputs:e,outputs:n})}else this.setState({inputs:"",outputs:""});t.flavors.mleap?this.setState({flavor:"mleap"}):t.flavors.python_function?this.setState({flavor:"pyfunc",loader_module:t.flavors.python_function.loader_module}):this.setState({flavor:Object.keys(t.flavors)[0]}),this.setState({loading:!1}),t.saved_input_example_info&&t.saved_input_example_info.artifact_path&&this.setState({hasInputExample:!0})})).catch((e=>{this.setState({error:e,loading:!1})}))}}G.defaultProps={getArtifact:l.Y0},G.getLearnModelRegistryLinkUrl=()=>P.gw;var J=(0,_.Ay)(G);var B=n.p+"static/media/warning.290a3b14118933547965e91ea61c5a61.svg",Q=n(27206),V=n(68248),X=n(76118),O=n(7655),W=n(43617),Z=n(90061),$=n(53868),ee=n(68044),te=n(90460),ne=n(25637);var ie={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},oe={name:"8k1832",styles:"position:relative;display:flex"},ae={name:"111ddn1",styles:"display:flex;justify-content:space-between;flex-shrink:0"},se={name:"1tc6xju",styles:"flex:1;overflow:auto"};const re=({data:e,onClose:t})=>{const{theme:n}=(0,v.u)(),[o,a]=(0,i.useState)(!1);return(0,X.isUndefined)(e)?null:(0,p.FD)("div",{css:(0,V.AH)({display:"flex",height:"100%",flexDirection:"row-reverse",position:"relative",borderLeft:`1px solid ${n.colors.border}`},""),children:[o&&(0,p.Y)(V.mL,{styles:ie}),(0,p.Y)(ne.ResizableBox,{width:200,height:void 0,axis:"x",resizeHandles:["w"],minConstraints:[200,150],maxConstraints:[500,150],onResizeStart:()=>a(!0),onResizeStop:()=>a(!1),handle:(0,p.Y)("div",{css:(0,V.AH)({width:n.spacing.xs,left:-n.spacing.xs/2,height:"100%",position:"absolute",top:0,cursor:"ew-resize","&:hover":{backgroundColor:n.colors.border,opacity:.5}},"")}),css:oe,children:(0,p.FD)("div",{css:(0,V.AH)({padding:n.spacing.sm,overflow:"hidden",display:"flex",flexDirection:"column"},""),children:[(0,p.FD)("div",{css:ae,children:[(0,p.Y)(v.T.Title,{level:5,children:(0,p.Y)(z.A,{id:"+dGAnC",defaultMessage:"Preview"})}),(0,p.Y)(v.B,{componentId:"mlflow.run.artifact_view.preview_close",onClick:()=>t(),icon:(0,p.Y)(v.C,{})})]}),!e&&(0,p.Y)(v.T.Text,{color:"secondary",children:(0,p.Y)(z.A,{id:"kjltRf",defaultMessage:"Click a cell to preview data"})}),(0,p.Y)("div",{css:se,children:(0,p.Y)(te.f,{json:e})})]})})]})};var le=n(16389);const de=(e,t)=>""===e?`column-${t+1}`:String(e);var ce={name:"7zbxzd",styles:"flex:1;overflow:hidden;display:flex;flex-direction:column"},pe={name:"1pbmicl",styles:"overflow:auto;flex:1"},ue={name:"fmgtfw",styles:".table-header-icon-container{line-height:0;}"};const he=({data:e,runUuid:t})=>{const[n,o]=(0,i.useState)([]),[a,d]=(0,i.useState)(!1),c=(0,O.A)(),{theme:u}=(0,v.u)(),h=160-2*u.spacing.sm,g=(0,i.useRef)(null),[m,f]=(0,i.useState)({width:0,height:0});(0,i.useEffect)((()=>{if(g.current){const{width:e,height:t}=g.current.getBoundingClientRect();f({width:e,height:t})}}),[]);const w=(0,i.useMemo)((()=>{var t,n;return null!==(t=null===(n=e.columns)||void 0===n?void 0:n.map(de))&&void 0!==t?t:[]}),[e]),[y,Y]=(0,i.useState)([]),[x,M]=(0,i.useState)(void 0),A=(0,i.useMemo)((()=>e.data),[e]),b=(0,i.useMemo)((()=>A.length>0?w.filter(((e,t)=>{if(null!==A[0][t]&&"object"===typeof A[0][t]){const{type:e}=A[0][t];return e===s.Oe}return!1})):[]),[w,A]),S=(0,i.useMemo)((()=>{const e=1+(a?24:32);return b.length>0?Math.floor((m.height-e-48)/160):Math.floor((m.height-e-48)/e)}),[m,b,a]),[k,C]=(0,i.useState)({pageSize:1,pageIndex:0});(0,i.useEffect)((()=>{C((e=>({...e,pageSize:S})))}),[S]);const T=(0,i.useMemo)((()=>w.filter((e=>!y.includes(e))).map((e=>{const n=String(e);return b.includes(e)?{id:n,header:n,accessorKey:n,minSize:100,cell:e=>{try{const n=JSON.parse(e.getValue()),{filepath:i,compressed_filepath:o}=n,a=(0,l.To)(i,t),s=(0,l.To)(o,t);return(0,p.Y)($.TV,{imageUrl:a,compressedImageUrl:s,maxImageSize:h})}catch{return le.A.logErrorAndNotifyUser("Error parsing image data in logged table's image column"),e.getValue()}}}:{id:n,header:n,accessorKey:n,minSize:100}}))),[w,h,b,t,y]),F=(0,i.useMemo)((()=>A.map((e=>{const t={};for(let n=0;n<w.length;n++){const i=e[n];t[w[n]]="string"===typeof i?i:JSON.stringify(i)}return t}))),[A,w]),L=(0,W.N4)({columns:T,data:F,state:{pagination:k,sorting:n},onSortingChange:o,getCoreRowModel:(0,Z.HT)(),getSortedRowModel:(0,Z.h5)(),getPaginationRowModel:(0,Z.kW)(),enableColumnResizing:!0,columnResizeMode:"onChange"}),D=(0,p.Y)(r.Pagination,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_181",currentPageIndex:k.pageIndex+1,numTotal:A.length,onChange:(e,t)=>{C({pageSize:t||k.pageSize,pageIndex:e-1})},pageSize:k.pageSize});return(0,p.FD)("div",{ref:g,css:(0,V.AH)({paddingLeft:u.spacing.md,height:"100%",display:"flex",gap:u.spacing.xs,overflow:"hidden"},""),children:[(0,p.FD)("div",{css:ce,children:[(0,p.Y)("div",{css:pe,children:(0,p.FD)(r.Table,{scrollable:!0,size:a?"small":"default",css:ue,style:{width:L.getTotalSize()},children:[L.getHeaderGroups().map((e=>(0,p.Y)(r.TableRow,{isHeader:!0,children:e.headers.map(((e,t)=>(0,p.Y)(r.TableHeader,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_223",sortable:!0,sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),header:e,column:e.column,setColumnSizing:L.setColumnSizing,isResizing:e.column.getIsResizing(),style:{maxWidth:e.column.getSize()},children:(0,W.Kv)(e.column.columnDef.header,e.getContext())},e.id)))},e.id))),L.getRowModel().rows.map((e=>(0,p.Y)(r.TableRow,{children:e.getAllCells().map((e=>(0,p.Y)(r.TableCell,{css:(0,V.AH)({maxHeight:160,"&:hover":{backgroundColor:u.colors.tableBackgroundSelectedHover,cursor:"pointer"}},""),onClick:()=>{M(String(e.getValue()))},tabIndex:0,onKeyDown:({key:t})=>{"Enter"===t&&M(String(e.getValue()))},style:{maxWidth:e.column.getSize()},children:(0,W.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})}),(0,p.Y)("div",{css:(0,V.AH)({display:"flex",justifyContent:"flex-end",paddingBottom:u.spacing.sm,paddingTop:u.spacing.sm},""),children:D})]}),!(0,X.isUndefined)(x)&&(0,p.Y)(re,{data:x,onClose:()=>M(void 0)}),(0,p.FD)("div",{css:(0,V.AH)({paddingTop:u.spacing.sm,paddingRight:u.spacing.sm,display:"flex",flexDirection:"column",gap:u.spacing.xs},""),children:[(0,p.FD)(r.DropdownMenu.Root,{modal:!1,children:[(0,p.Y)(r.LegacyTooltip,{title:c.formatMessage({id:"NzRvyj",defaultMessage:"Table settings"}),useAsLabel:!0,children:(0,p.Y)(r.DropdownMenu.Trigger,{asChild:!0,"aria-label":c.formatMessage({id:"NzRvyj",defaultMessage:"Table settings"}),children:(0,p.Y)(v.B,{componentId:"mlflow.run.artifact_view.table_settings",icon:(0,p.Y)(r.GearIcon,{})})})}),(0,p.FD)(r.DropdownMenu.Content,{css:(0,V.AH)({maxHeight:10*u.general.heightSm,overflowY:"auto"},""),side:"left",children:[(0,p.Y)(r.DropdownMenu.Arrow,{}),(0,p.FD)(r.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_315",checked:a,onCheckedChange:d,children:[(0,p.Y)(r.DropdownMenu.ItemIndicator,{}),(0,p.Y)(z.A,{id:"odkg7W",defaultMessage:"Compact view"})]}),(0,p.Y)(r.DropdownMenu.Separator,{}),(0,p.FD)(r.DropdownMenu.Group,{children:[(0,p.Y)(r.DropdownMenu.Label,{children:(0,p.Y)(z.A,{id:"fMf88R",defaultMessage:"Columns"})}),w.map((e=>(0,p.FD)(r.DropdownMenu.CheckboxItem,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_artifact-view-components_showartifactloggedtableview.tsx_331",onSelect:e=>e.preventDefault(),checked:!y.includes(e),onCheckedChange:()=>{Y((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},children:[(0,p.Y)(r.DropdownMenu.ItemIndicator,{}),e]},e)))]})]})]}),(0,p.Y)(ee.k,{onClick:()=>{M((()=>(0,X.isUndefined)(x)?"":void 0))},pressed:!(0,X.isUndefined)(x),componentId:"mlflow.run.artifact_view.preview_sidebar_toggle",icon:(0,p.Y)(r.SidebarIcon,{})})]})]})},ge=i.memo((({runUuid:e,path:t,isLoggedModelsMode:n,loggedModelId:o,experimentId:s,entityTags:d})=>{const[u,h]=(0,i.useState)(!0),[g,m]=(0,i.useState)(),[f,w]=(0,i.useState)(void 0),[y,Y]=(0,i.useState)("");(0,i.useEffect)((()=>{h(!0),(0,c.F)({runUuid:e,path:t,isLoggedModelsMode:n,loggedModelId:o,experimentId:s,entityTags:d},l.Y0).then((e=>{h(!1),e&&"string"===typeof e?(Y(e),m(void 0)):m(Error("Artifact is not a JSON file"))})).catch((e=>{m(e),h(!1)})),w(t)}),[t,e,n,o,s,d]);const x=(0,i.useMemo)((()=>{const e=(0,a.pt)(y);if(e&&(0,X.isArray)(null===e||void 0===e?void 0:e.columns)&&(0,X.isArray)(null===e||void 0===e?void 0:e.data))return e}),[y]),{theme:M}=(0,v.u)(),A=e=>(0,p.Y)("div",{css:(0,V.AH)({padding:M.spacing.md},""),children:(0,p.Y)(r.Empty,{image:(0,p.Y)(v.k,{}),title:(0,p.Y)(z.A,{id:"hnhCDT",defaultMessage:"Error occurred"}),description:e})});return u||t!==f?(0,p.Y)("div",{css:(0,V.AH)({padding:M.spacing.md},""),children:(0,p.Y)(r.TableSkeleton,{lines:5})}):g?A(g.message):y?x?(0,p.Y)(he,{data:x,runUuid:e}):A((0,p.Y)(z.A,{id:"mqDCNl",defaultMessage:"Unable to parse JSON file. The file should contain an object with 'columns' and 'data' keys."})):A(null)}));var me=n(79081);const fe=i.lazy((()=>n.e(7867).then(n.bind(n,67867)))),ve=e=>(0,p.Y)(M.g,{children:(0,p.Y)(i.Suspense,{fallback:(0,p.Y)(r.LegacySkeleton,{active:!0}),children:(0,p.Y)(fe,{...e})})}),we=(0,i.lazy)((()=>n.e(7238).then(n.bind(n,7238))));class ye extends i.Component{render(){if(this.props.path){const{loggedModelId:e,isLoggedModelsMode:t,path:n,runUuid:i,experimentId:r,entityTags:l}=this.props,d={loggedModelId:e,isLoggedModelsMode:t,path:n,runUuid:i,experimentId:r,entityTags:l},c=(0,o.uQ)(this.props.path);let u;const{modelVersions:h}=this.props;if(h){const[e]=h.filter((e=>e.source.endsWith(`artifacts/${c}`)));if(e){const{name:t,version:n}=e;u=Q.fM.getModelVersionPageRoute(t,n)}}if(this.props.size>50*s.PE)return Se();if(this.props.isDirectory){if(this.props.runTags&&(0,a.x1)(this.props.runTags).includes(this.props.path))return(0,p.Y)(J,{runUuid:this.props.runUuid,path:this.props.path,artifactRootUri:this.props.artifactRootUri,registeredModelLink:u,experimentId:this.props.experimentId})}else{if(this.props.showArtifactLoggedTableView)return(0,p.Y)(ge,{...d});if(c){if(o.f9.has(c.toLowerCase()))return(0,p.Y)(g,{...d});if(o.GE.has(c.toLowerCase()))return(0,p.Y)(D,{...d});if(o.lg.has(c.toLowerCase()))return(0,p.Y)(x,{...d,size:this.props.size});if(o.Yj.has(c.toLowerCase()))return(0,p.Y)(b,{...d});if(o.jO.has(c.toLowerCase()))return(0,p.Y)(C,{...d});if(o.Ap.has(c.toLowerCase()))return(0,p.Y)(F,{...d});if(o.In.has(c.toLowerCase()))return(0,p.Y)(ve,{...d});if(o.Vf.has(c.toLowerCase()))return(0,p.Y)(we,{...d})}}}return Me()}}var Ye={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"},xe={name:"173u6wr",styles:"width:64px;height:64px"};const Me=()=>(0,p.Y)("div",{css:Ye,children:(0,p.Y)(r.Empty,{image:(0,p.FD)(p.FK,{children:[(0,p.Y)("img",{alt:"Preview icon.",src:"data:image/png;base64,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",css:xe}),(0,p.Y)(me.S,{size:"sm"})]}),title:(0,p.Y)(z.A,{id:"6b6fTN",defaultMessage:"Select a file to preview"}),description:(0,p.Y)(z.A,{id:"Wv3B3G",defaultMessage:"Supported formats: image, text, html, pdf, audio, video, geojson files"})})});var Ae={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"},be={name:"173u6wr",styles:"width:64px;height:64px"};const Se=()=>(0,p.Y)("div",{css:Ae,children:(0,p.Y)(r.Empty,{image:(0,p.FD)(p.FK,{children:[(0,p.Y)("img",{alt:"Preview icon.",src:B,css:be}),(0,p.Y)(me.S,{size:"sm"})]}),title:(0,p.Y)(z.A,{id:"9y+yUQ",defaultMessage:"File is too large to preview"}),description:(0,p.Y)(z.A,{id:"8T27QL",defaultMessage:"Maximum file size for preview: 50MiB"})})});var ke=ye},36961:function(e,t,n){n.d(t,{F:function(){return o}});var i=n(65765);const o=(e,t=i.Y0)=>{const n=(e=>{const{runUuid:t,path:n,isLoggedModelsMode:o,loggedModelId:a}=e;return o&&a?(0,i.qk)(n,a):(0,i.To)(n,t)})(e);return t(n)}},38975:function(e,t,n){n.d(t,{$:function(){return u},d:function(){return p}});var i=n(68248),o=n(74060),a=n(27757),s=n(40724),r=n(73408);const l=({count:e})=>(0,r.Y)(r.FK,{children:new Array(e).fill("").map(((e,t)=>(0,r.Y)(o.ParagraphSkeleton,{seed:t.toString(),label:0===t?(0,r.Y)(s.A,{id:"v+0HXI",defaultMessage:"Artifact loading"}):void 0},t)))});var d={name:"36bnqj",styles:"display:flex;flex:1"},c={name:"82a6rk",styles:"flex:1"};const p=()=>{const{theme:e}=(0,a.u)();return(0,r.FD)("div",{css:d,children:[(0,r.Y)("div",{css:c,children:(0,r.Y)("div",{css:(0,i.AH)({margin:e.spacing.sm},""),children:(0,r.Y)(l,{count:9})})}),(0,r.Y)("div",{css:(0,i.AH)({flex:3,borderLeft:`1px solid ${e.colors.border}`},""),children:(0,r.FD)("div",{css:(0,i.AH)({margin:e.spacing.sm},""),children:[(0,r.Y)(o.TitleSkeleton,{css:(0,i.AH)({marginBottom:e.spacing.md},"")}),(0,r.Y)(l,{count:3}),(0,r.Y)("div",{css:(0,i.AH)({width:"75%",marginTop:e.spacing.md},""),children:(0,r.Y)(l,{count:3})})]})})]})},u=e=>{const{theme:t}=(0,a.u)();return(0,r.Y)("div",{"data-testid":"mlflow-artifact-view-skeleton",css:(0,i.AH)({margin:t.spacing.md},""),...e,children:(0,r.Y)(l,{count:9})})}},46846:function(e,t,n){n.d(t,{K:function(){return c}});var i=n(31970),o=n(15765),a=n(34860),s=n(27757),r=n(46709),l=n(40724),d=n(73408);const c=({data:e,onToggleTreebeard:t})=>{const{theme:n}=(0,s.u)(),o=(0,r.useMemo)((()=>p(n)),[n]);return(0,d.Y)(i.Treebeard,{data:e,onToggle:t,style:o,decorators:i.decorators})};i.decorators.Header=({style:e,node:t})=>{let n;if(t.children)n="folder";else{const e=(0,o.uQ)(t.name);n=o.f9.has(e)?"file-image-o":o.GE.has(e)?"file-excel-o":o.lg.has(e)?"file-code-o":"file-text-o"}const i=`fa fa-${n}`,a=t.children?{marginRight:"5px"}:{marginRight:"5px",marginLeft:"19px"};return(0,d.Y)("div",{style:e.base,"data-testid":"artifact-tree-node","artifact-name":t.name,"aria-label":t.name,children:(0,d.FD)("div",{style:e.title,children:[(0,d.Y)("i",{className:i,style:a}),t.name]})})},i.decorators.Loading=({style:e})=>(0,d.FD)("div",{style:e,children:[(0,d.Y)("img",{alt:"",className:"mlflow-loading-spinner",src:a}),(0,d.Y)(l.A,{id:"RlRsah",defaultMessage:"loading..."})]});const p=e=>({tree:{base:{listStyle:"none",margin:0,padding:0,backgroundColor:e.colors.backgroundPrimary,color:e.colors.textPrimary,fontSize:e.typography.fontSizeMd,maxWidth:"500px",height:"100%",overflow:"scroll"},node:{base:{position:"relative"},link:{cursor:"pointer",position:"relative",padding:"0px 5px",display:"block"},activeLink:{background:e.isDarkMode?e.colors.grey700:e.colors.grey300},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-5px",height:"24px",width:"24px"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-12px 0 0 -4px",height:"14px",display:"flex",alignItems:"end"},height:7,width:7,arrow:{fill:"#7a7a7a",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top",color:e.colors.textPrimary},connector:{width:"2px",height:"12px",borderLeft:"solid 2px black",borderBottom:"solid 2px black",position:"absolute",top:"0px",left:"-21px"},title:{lineHeight:"24px",verticalAlign:"middle"}},subtree:{listStyle:"none",paddingLeft:"19px"}}}})},65181:function(e,t,n){n.d(t,{i:function(){return T}});var i=n(68248),o=n(46709),a=n(27757),s=n(74060),r=n(79081),l=n(66916),d=n(24523),c=n(7655),p=n(40724),u=n(76118),h=n(80625),g=n(73408);const{Text:m}=a.T;function f(e,t){const{type:n}=e,i=" ".repeat(2*t);if("object"===n){return`${i}{\n${Object.keys(e.properties).map((n=>{const i=e.properties[n],o=i.required?"":" (optional)",a=f(i,t+1),s=2*(t+1);return`${" ".repeat(s)}${n}: ${a.slice(s)+o}`})).join(",\n")}\n${i}}`}if("array"===n){const n=2*t;return`${i}Array(${f(e.items,t).slice(n)})`}return`${i}${n}`}var v={name:"hhyoc3",styles:"margin-left:32px"};function w({spec:e}){let t=!0;void 0!==e.required?({required:t}=e):void 0!==e.optional&&e.optional&&(t=!1);const n=t?(0,g.Y)(m,{bold:!0,children:"(required)"}):(0,g.Y)(m,{color:"secondary",children:"(optional)"}),i="name"in e?e.name:"-";return(0,g.FD)(m,{css:v,children:[i," ",n]})}function y({spec:e}){const{theme:t}=(0,a.u)(),n="tensor"===e.type?`Tensor (dtype: ${(o=e)["tensor-spec"].dtype}, shape: [${o["tensor-spec"].shape}])`:f(e,0);var o;return(0,g.Y)("pre",{css:(0,i.AH)({whiteSpace:"pre-wrap",padding:t.spacing.sm,marginTop:t.spacing.sm,marginBottom:t.spacing.sm},""),children:n})}var Y={name:"1q1lx84",styles:"flex:2;align-items:center"},x={name:"qejc9x",styles:"flex:3;align-items:center"};const M=({schemaData:e})=>{const t=(0,u.isEmpty)(e),n=(0,c.A)(),i=Boolean(e&&e.length>100),[m,f]=(0,o.useState)(""),v=(0,h.t)(m),M=(0,o.useMemo)((()=>{if(!i)return e;const t=v.toLowerCase();return null===e||void 0===e?void 0:e.filter((e=>"name"in e&&null!==e.name&&String(e.name).toLowerCase().includes(t))).slice(0,100)}),[e,v,i]);return t?(0,g.Y)(s.TableRow,{children:(0,g.Y)(s.TableCell,{children:(0,g.Y)(p.A,{id:"Wd8Tga",defaultMessage:"No schema. See <link>MLflow docs</link> for how to include input and output schema with your model.",values:{link:e=>(0,g.Y)("a",{href:d.zR,target:"_blank",rel:"noreferrer",children:e})}})})}):(0,g.FD)(g.FK,{children:[i&&(0,g.FD)(g.FK,{children:[(0,g.Y)(r.S,{}),(0,g.Y)(a.T.Hint,{children:(0,g.Y)(p.A,{id:"UYSMKb",defaultMessage:"Schema is too large to display all rows. Please search for a column name to filter the results. Currently showing {currentResults} results from {allResults} total rows.",values:{currentResults:null===M||void 0===M?void 0:M.length,allResults:null===e||void 0===e?void 0:e.length}})}),(0,g.Y)(r.S,{}),(0,g.Y)(l.I,{placeholder:n.formatMessage({id:"6BqLF2",defaultMessage:"Search for a field"}),componentId:"mlflow.schema_table.search_input",value:m,onChange:e=>f(e.target.value)}),(0,g.Y)(r.S,{})]}),null===M||void 0===M?void 0:M.map(((e,t)=>(0,g.FD)(s.TableRow,{children:[(0,g.Y)(s.TableCell,{css:Y,children:(0,g.Y)(w,{spec:e})}),(0,g.Y)(s.TableCell,{css:x,children:(0,g.Y)(y,{spec:e})})]},t)))]})};var A={name:"ddxhyk",styles:"max-width:800px"},b={name:"1189xqs",styles:"flex:2"},S={name:"15hibo9",styles:"flex:3"},k={name:"e0dnmk",styles:"cursor:pointer"},C={name:"e0dnmk",styles:"cursor:pointer"};const T=({schema:e,defaultExpandAllRows:t})=>{const{theme:n}=(0,a.u)(),[r,l]=(0,o.useState)(t),[d,c]=(0,o.useState)(t);return(0,g.FD)(s.Table,{css:A,children:[(0,g.FD)(s.TableRow,{isHeader:!0,children:[(0,g.Y)(s.TableHeader,{componentId:"mlflow.schema_table.header.name",css:b,children:(0,g.Y)(m,{bold:!0,css:(0,i.AH)({paddingLeft:n.spacing.lg+n.spacing.xs},""),children:(0,g.Y)(p.A,{id:"Nj6Ez5",defaultMessage:"Name"})})}),(0,g.Y)(s.TableHeader,{componentId:"mlflow.schema_table.header.type",css:S,children:(0,g.Y)(m,{bold:!0,children:(0,g.Y)(p.A,{id:"2f2qeb",defaultMessage:"Type"})})})]}),(0,g.FD)(g.FK,{children:[(0,g.Y)(s.TableRow,{onClick:()=>l(!r),css:k,children:(0,g.Y)(s.TableCell,{children:(0,g.FD)("div",{css:(0,i.AH)({display:"flex",alignItems:"center",gap:n.spacing.xs},""),children:[(0,g.Y)("div",{css:(0,i.AH)({width:n.spacing.lg,height:n.spacing.lg,display:"flex",alignItems:"center",justifyContent:"center",svg:{color:n.colors.textSecondary}},""),children:r?(0,g.Y)(s.MinusSquareIcon,{}):(0,g.Y)(s.PlusSquareIcon,{})}),(0,g.Y)(p.A,{id:"sxlGRc",defaultMessage:"Inputs ({numInputs})",values:{numInputs:e.inputs.length}})]})})}),r&&(0,g.Y)(M,{schemaData:e.inputs}),(0,g.Y)(s.TableRow,{onClick:()=>c(!d),css:C,children:(0,g.Y)(s.TableCell,{children:(0,g.FD)("div",{css:(0,i.AH)({display:"flex",alignItems:"center",gap:n.spacing.xs},""),children:[(0,g.Y)("div",{css:(0,i.AH)({width:n.spacing.lg,height:n.spacing.lg,display:"flex",alignItems:"center",justifyContent:"center",svg:{color:n.colors.textSecondary}},""),children:d?(0,g.Y)(s.MinusSquareIcon,{}):(0,g.Y)(s.PlusSquareIcon,{})}),(0,g.Y)(p.A,{id:"llVQ2r",defaultMessage:"Outputs ({numOutputs})",values:{numOutputs:e.outputs.length}})]})})}),d&&(0,g.Y)(M,{schemaData:e.outputs})]})]})}},67850:function(e,t,n){n.d(t,{i:function(){return c}});var i=n(68248),o=(n(46709),n(27757)),a=n(74060),s=n(30676),r=n(91701),l=n(73408);var d={name:"bjn8wh",styles:"position:relative"};const c=({code:e})=>{const{theme:t}=(0,o.u)();return(0,l.FD)("div",{css:d,children:[(0,l.Y)(r.i,{css:(0,i.AH)({zIndex:1,position:"absolute",top:t.spacing.xs,right:t.spacing.xs},""),showLabel:!1,copyText:e,icon:(0,l.Y)(a.CopyIcon,{})}),(0,l.Y)(s.z7,{language:"python",showLineNumbers:!1,style:{padding:t.spacing.sm,color:t.colors.textPrimary,backgroundColor:t.colors.backgroundSecondary,whiteSpace:"pre-wrap"},wrapLongLines:!0,children:e})]})}},71055:function(e,t,n){n.d(t,{F:function(){return l}});var i=n(74060),o=n(27757),a=(n(46709),n(40724)),s=n(73408);var r={name:"r3950p",styles:"flex:1;display:flex;justify-content:center;align-items:center"};const l=({description:e,title:t,...n})=>(0,s.Y)("div",{css:r,...n,children:(0,s.Y)(i.Empty,{image:(0,s.Y)(o.k,{}),title:null!==t&&void 0!==t?t:(0,s.Y)(a.A,{id:"Gm77Ws",defaultMessage:"Loading artifact failed"}),description:e})})}}]);