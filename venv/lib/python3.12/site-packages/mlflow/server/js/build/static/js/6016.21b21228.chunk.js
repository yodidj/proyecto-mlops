"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[6016],{17509:function(e,n,t){t.d(n,{A:function(){return E}});var i=t(68248),r=t(27757),o=t(74060),s=t(79081),a=t(46709),l=t(56530),d=t(40072),c=t(53935),p=(t(94943),t(89774)),m=t(33656),u=t(40724),h=t(5690),g=t(73408);const x=[["header","bold","italic","strikethrough"],["link","code","image"],["unordered-list","ordered-list"]],f=(0,m.OT)(),v=e=>{if(e){const n=(0,m.NW)(f.makeHtml(e));return(0,m.Yc)(n)}return null},E=({experiment:e,editing:n,setEditing:t,setShowAddDescriptionButton:m,onNoteUpdated:f,defaultValue:E})=>{const _=(0,l.d4)((n=>{const t=(0,d.xy)(e.experimentId,n);return t?(e=>{var n;return(null===(n=Object.values(e).find((e=>e.key===c.e)))||void 0===n?void 0:n.value)||void 0})(t):""}));m(!_);const Y=_||E,[M,b]=(0,a.useState)(Y),[y,I]=(0,a.useState)("write"),[k,T]=(0,a.useState)(!1),{theme:w}=(0,r.u)(),A=16+2*w.spacing.sm,S=(0,l.wA)(),R=(0,a.useCallback)((n=>{t(!1),m(!n);const i=(0,h.EJ)(e.experimentId,c.e,n);S(i).then(f)}),[e.experimentId,S,t,m,f]);return(0,g.FD)("div",{children:[Y&&(0,g.FD)("div",{style:{whiteSpace:k?"normal":"pre-wrap",lineHeight:w.typography.lineHeightLg,background:w.colors.backgroundSecondary,display:"flex",alignItems:"flex-start",padding:w.spacing.xs},children:[(0,g.Y)("div",{style:{flexGrow:1,marginRight:12,overflow:"hidden",overflowWrap:k?"break-word":void 0,padding:`${w.spacing.sm}px 12px`,maxHeight:k?"none":A+"px",wordBreak:"break-word"},children:(0,g.Y)("div",{dangerouslySetInnerHTML:{__html:v(Y)}})}),(0,g.Y)(r.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_114",icon:(0,g.Y)(o.PencilIcon,{}),onClick:()=>t(!0),style:{padding:`0px ${w.spacing.sm}px`}}),k?(0,g.Y)(r.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_120",icon:(0,g.Y)(o.ChevronUpIcon,{}),onClick:()=>T(!1),style:{padding:`0px ${w.spacing.sm}px`}}):(0,g.Y)(r.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_126",icon:(0,g.Y)(o.ChevronDownIcon,{}),onClick:()=>T(!0),style:{padding:`0px ${w.spacing.sm}px`}})]}),(0,g.Y)(s.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_141",title:(0,g.Y)(u.A,{id:"Vkr4Bs",defaultMessage:"Add description"}),visible:n,okText:(0,g.Y)(u.A,{id:"xUnYdk",defaultMessage:"Save"}),cancelText:(0,g.Y)(u.A,{id:"757GVc",defaultMessage:"Cancel"}),onOk:()=>{R(M),t(!1)},onCancel:()=>{b(Y),t(!1)},children:(0,g.Y)(a.Fragment,{children:(0,g.Y)(p.default,{value:M,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:20,toolbarCommands:x,onChange:e=>b(e),selectedTab:y,onTabChange:e=>I(e),generateMarkdownPreview:()=>Promise.resolve(v(M)),getIcon:e=>(0,g.Y)(o.LegacyTooltip,{title:e,children:(0,g.Y)("span",{css:(0,i.AH)({color:w.colors.textPrimary},""),children:(0,g.Y)(p.SvgIcon,{icon:e})})})})})})]})}},32667:function(e,n,t){t.d(n,{an:function(){return l},b:function(){return s}});var i=t(91105),r=t(44105),o=t(60284);const s="compareRunsMode",a={MODELS:e=>o.Ay.getExperimentPageTabRoute(e,r.fM.Models)},l=()=>{const[e,n]=(0,i.ok)(),t=(0,i.Zp)();return[e.get(s)||"TABLE",(e,i)=>{if(e in a&&i){var r;const n=null===(r=a[e])||void 0===r?void 0:r.call(a,i);if(n)return void t(n)}n((n=>(n.set(s,e||""),n)),{replace:!1})}]}},35154:function(e,n,t){t.d(n,{H:function(){return c}});var i=t(46709),r=t(31655),o=t(91105),s=t(60284),a=t(44105),l=t(76118);const d=(0,l.map)({[s.AY.experimentPageTabRuns]:a.fM.Runs,[s.AY.experimentPageTabTraces]:a.fM.Traces,[s.AY.experimentPageTabModels]:a.fM.Models},((e,n)=>({routePath:n,tabName:e}))),c=()=>{const{pathname:e}=(0,o.zy)(),n=(0,i.useMemo)((()=>{if(!(0,r.BV)())return;const n=(e=>{var n;return null===(n=d.find((({routePath:n})=>Boolean((0,o.B6)(n,e)))))||void 0===n?void 0:n.tabName})(e);return n}),[e]);return{tabName:n,topLevelTabName:n}}},42033:function(e,n,t){t.d(n,{G:function(){return o}});var i=t(61060),r=t(12803);const o=e=>(0,i.n)({mutationFn:({experimentId:n,kind:t})=>r.x.setExperimentTag({experiment_id:n,key:"mlflow.experimentKind",value:t}).then((()=>{var n;return null!==(n=null===e||void 0===e?void 0:e())&&void 0!==n?n:Promise.resolve()}))})},47824:function(e,n,t){t.d(n,{i:function(){return oe},J:function(){return le}});var i=t(68248),r=t(46709),o=t(27757),s=t(74060),a=t(79081),l=t(40724),d=t(91105),c=t(60284),p=t(7655),m=t(73408);const u=({experiment:e,size:n})=>{const t=(0,p.A)();return(0,m.Y)(o.T.Text,{size:n,dangerouslySetAntdProps:{copyable:{text:e.name,icon:(0,m.Y)(s.CopyIcon,{}),tooltips:[t.formatMessage({id:"A7R0ii",defaultMessage:"Copy path"}),t.formatMessage({id:"JCboZ7",defaultMessage:"Path copied"})]}}})},h=({artifactLocation:e})=>(0,m.Y)(m.FK,{children:e}),g=({experiment:e})=>{const n=(0,p.A)();return(0,m.Y)(o.T.Text,{size:"md",dangerouslySetAntdProps:{copyable:{text:e.experimentId,icon:(0,m.Y)(s.CopyIcon,{}),tooltips:[n.formatMessage({id:"rytnce",defaultMessage:"Copy experiment id"}),n.formatMessage({id:"qH2cN+",defaultMessage:"Experiment id copied"})]}}})},x=({experiment:e})=>{const n=(0,p.A)();return(0,m.Y)(o.T.Text,{size:"md",dangerouslySetAntdProps:{copyable:{text:e.artifactLocation,icon:(0,m.Y)(s.CopyIcon,{}),tooltips:[n.formatMessage({id:"cSSMIs",defaultMessage:"Copy artifact location"}),n.formatMessage({id:"5aZ7nE",defaultMessage:"Artifact location copied"})]}}})};var f=t(44105),v=t(32667),E=t(95328),_=t(21678),Y=t(31655);const M={label:(0,m.Y)(l.A,{id:"L/U++H",defaultMessage:"Runs"}),icon:(0,m.Y)(a.L,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,f.fM.Runs)},b={label:(0,m.Y)(l.A,{id:"ViqP7B",defaultMessage:"Traces"}),icon:(0,m.Y)(s.ListBorderIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,f.fM.Traces)},y={label:(0,m.Y)(l.A,{id:"ep1s0U",defaultMessage:"Evaluations"}),icon:(0,m.Y)(s.PlusMinusSquareIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,f.fM.EvaluationRuns)},I={label:(0,m.Y)(l.A,{id:"AxdKIr",defaultMessage:"Versions"}),icon:(0,m.Y)(s.ModelsIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,f.fM.Models)},k=({includeRunsTab:e=!1}={})=>({...e&&{[f.fM.Runs]:M},[f.fM.Traces]:b,[f.fM.EvaluationRuns]:y,[f.fM.Models]:I}),T=(k(),{[f.fM.Runs]:M,[f.fM.Models]:{...I,label:(0,m.Y)(l.A,{id:"QHTLV9",defaultMessage:"Models"})},[f.fM.Traces]:b}),w={...T};var A=t(35154);const S=(e,n=!1)=>{switch(e){case f.Gk.GENAI_DEVELOPMENT:case f.Gk.GENAI_DEVELOPMENT_INFERRED:return(0,Y.Xs)()?(({includeRunsTab:e=!1}={})=>({...e&&{[f.fM.Runs]:M},[f.fM.Traces]:b,[f.fM.Models]:I}))({includeRunsTab:n}):k({includeRunsTab:n});case f.Gk.CUSTOM_MODEL_DEVELOPMENT:case f.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED:case f.Gk.FORECASTING:case f.Gk.REGRESSION:case f.Gk.AUTOML:case f.Gk.CLASSIFICATION:return T;default:return w}};var R={name:"eivff4",styles:"display:none"};const C=({experimentKind:e})=>{var n;const{experimentId:t,tabName:l}=(0,d.g)(),{theme:c}=(0,o.u)(),[p]=(0,v.an)(),u=e===f.Gk.GENAI_DEVELOPMENT||e===f.Gk.GENAI_DEVELOPMENT_INFERRED,{trainingRuns:h}=(0,E.X)({experimentId:t||"",enabled:u,filter:""}),{topLevelTabName:g}=(0,A.H)();let x=(0,_.SK)(f.fM,l,void 0);x===f.fM.Datasets&&(x=f.fM.EvaluationRuns),x===f.fM.LabelingSchemas&&(x=f.fM.LabelingSessions);const Y=(e=>["TABLE","CHART","ARTIFACT"].includes(e))(p)?f.fM.Runs:(e=>["TRACES"].includes(e))(p)?f.fM.Traces:p,M=null!==(n=null!==g&&void 0!==g?g:x)&&void 0!==n?n:Y,b=(null===h||void 0===h?void 0:h.length)>0,y=S(null!==e&&void 0!==e?e:f.Gk.NO_INFERRED_TYPE,u&&b);return(0,m.Y)(s.SegmentedControlGroup,{value:M,name:"tab-toggle-bar",componentId:"mlflow.experiment-tracking.tab-toggle-bar",newStyleFlagOverride:!0,css:(0,i.AH)({justifySelf:"center",[c.responsive.mediaQueries.xl]:{"& .tab-icon-text":{display:"inline-flex"},"& .tab-icon-with-tooltip":{display:"none"}}},""),children:Object.entries(y).map((([e,n])=>{const i=e===M;return(0,m.FD)(r.Fragment,{children:[(0,m.Y)(d.N_,{css:R,className:"tab-icon-text",to:n.getRoute(null!==t&&void 0!==t?t:""),children:(0,m.Y)(s.SegmentedControlButton,{"data-testid":`tab-selector-button-text-${e}-${i?"active":"inactive"}`,className:"tab-icon-text",value:e,icon:n.icon,children:(0,m.Y)("span",{children:n.label})})},`${e}-text`),(0,m.Y)(d.N_,{className:"tab-icon-with-tooltip",to:n.getRoute(null!==t&&void 0!==t?t:""),children:(0,m.Y)(s.SegmentedControlButton,{"data-testid":`tab-selector-button-icon-${e}-${i?"active":"inactive"}`,className:"tab-icon-with-tooltip",value:e,icon:(0,m.Y)(a.T,{delayDuration:0,content:(0,m.Y)("span",{children:n.label}),componentId:`mlflow.experiment-tracking.tab-selector-bar.${e}`,children:(0,m.Y)("span",{children:n.icon})})})},`${e}-tooltip`)]},e)}))})};var D=t(80042),N=t(91944),O=t(10536),F=t(84561),L=t(5690),P=t(16389),G=t(56530),B=t(43233),H=t(2560);class V extends r.Component{constructor(...e){super(...e),this.handleSubmit=()=>{const{experimentId:e,activeExperimentIds:n}=this.props,t=(0,B.yk)();return this.props.deleteExperimentApi(e,t).then((()=>{if(null!==n&&void 0!==n&&n.includes(e))if(1===n.length)this.props.navigate(c.Ay.rootRoute);else{const t=n.filter((n=>n!==e)),i=1===t.length?c.Ay.getExperimentPageRoute(t[0]):c.Ay.getCompareExperimentsPageRoute(t);this.props.navigate(i)}})).then((()=>this.props.onExperimentDeleted())).catch((e=>{P.A.logErrorAndNotifyUser(e)}))}}render(){return(0,m.Y)(F.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment "${this.props.experimentName}"`,helpText:(0,m.FD)("div",{children:[(0,m.Y)("p",{children:(0,m.FD)("b",{children:['Experiment "',this.props.experimentName,'" (Experiment ID: ',this.props.experimentId,") will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const U={deleteExperimentApi:L.lJ},$=(0,H.h)((0,G.Ng)(void 0,U)(V));var K=t(49356),z=t.n(K),q=t(29452),W=t(14466),J=t(64080),Z=t(40072);class Q extends r.Component{constructor(...e){super(...e),this.handleRenameExperiment=e=>{const n=e[W.m];return this.props.updateExperimentApi(this.props.experimentId,n).then((()=>{this.props.getExperimentApi(this.props.experimentId),this.props.onExperimentRenamed()})).catch((e=>P.A.logErrorAndNotifyUser(e)))},this.debouncedExperimentNameValidator=z()((0,J.J)((()=>this.props.experimentNames)),400)}render(){const{isOpen:e,experimentName:n}=this.props;return(0,m.Y)(q.B,{title:"Rename Experiment",okText:"Save",isOpen:e,handleSubmit:this.handleRenameExperiment,onClose:this.props.onClose,children:(0,m.Y)(W.P,{type:"experiment",name:n,visible:e,validator:this.debouncedExperimentNameValidator})})}}const X={updateExperimentApi:L.Td,getExperimentApi:L.yc},j=(0,G.Ng)((e=>({experimentNames:(0,Z.DZ)(e).map((e=>e.name))})),X)(Q);var ee=t(26158);const ne=({experiment:e,setEditing:n,baseComponentId:t="mlflow.experiment_page.managementMenu",refetchExperiment:i})=>{const[s,a]=(0,r.useState)(!1),[p,u]=(0,r.useState)(!1),h=(0,ee.M)(),g=(0,d.Zp)();return(0,m.FD)(m.FK,{children:[(0,m.Y)(O.o,{menu:[...n?[{id:"edit-description",itemName:(0,m.Y)(o.T.Text,{children:(0,m.Y)(l.A,{id:"6R2ply",defaultMessage:"Edit description"})}),onClick:()=>n(!0)}]:[],{id:"rename",itemName:(0,m.Y)(l.A,{id:"3FZ8dZ",defaultMessage:"Rename"}),onClick:()=>a(!0)},{id:"delete",itemName:(0,m.Y)(l.A,{id:"YuYnxd",defaultMessage:"Delete"}),onClick:()=>u(!0)}]}),(0,m.Y)(j,{experimentId:e.experimentId,experimentName:e.name,isOpen:s,onClose:()=>a(!1),onExperimentRenamed:h}),(0,m.Y)($,{experimentId:e.experimentId,experimentName:e.name,isOpen:p,onClose:()=>u(!1),onExperimentDeleted:()=>{h(),g(c.Ay.experimentsObservatoryRoute)}})]})};var te={name:"1s8dw6e",styles:"display:grid;grid-template-columns:1fr 1fr 1fr"},ie={name:"1gw6v2o",styles:"max-width:100%;overflow:hidden"},re={name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"};const oe=r.memo((({experiment:e,inferredExperimentKind:n,searchFacetsState:t,uiState:p,setEditing:f,experimentKindSelector:v,refetchExperiment:E})=>{const{theme:_}=(0,o.u)(),Y=(0,r.useMemo)((()=>[(0,m.Y)(d.N_,{to:c.Ay.experimentsObservatoryRoute,"data-testid":"experiment-observatory-link",children:(0,m.Y)(l.A,{id:"XBtNVo",defaultMessage:"Experiments"})})]),[]),M=(0,r.useMemo)((()=>e?[null===e||void 0===e?void 0:e.experimentId]:[]),[e]),b=(0,r.useMemo)((()=>e.name.split("/").pop()),[e.name]),y=null!==n&&void 0!==n?n:(0,N.BH)(e.tags);return(0,m.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:_.spacing.xs,marginBottom:_.spacing.sm},""),children:[(0,m.Y)(s.Breadcrumb,{includeTrailingCaret:!0,children:Y.map(((e,n)=>(0,m.Y)(s.Breadcrumb.Item,{children:e},n)))}),(0,m.FD)("div",{css:te,children:[(0,m.FD)("div",{css:(0,i.AH)({display:"flex",gap:_.spacing.sm,alignItems:"center",overflow:"hidden",minWidth:250},""),children:[(0,m.Y)(a.T,{content:b,componentId:"mlflow.experiment_view.header.experiment-name-tooltip",children:(0,m.Y)("span",{css:ie,children:(0,m.Y)(o.T.Title,{withoutMargins:!0,level:2,css:re,children:b})})}),v,(0,m.Y)("div",{style:{display:"flex",marginRight:_.spacing.sm},children:(0,m.Y)(s.InfoPopover,{iconTitle:"Info",children:(0,m.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:_.spacing.xs,flexWrap:"nowrap"},""),"data-testid":"experiment-view-header-info-tooltip-content",children:[(0,m.FD)("div",{style:{whiteSpace:"nowrap"},children:[(0,m.Y)(l.A,{id:"F8MqzZ",defaultMessage:"Path"}),": ",e.name+" ",(0,m.Y)(u,{experiment:e,size:"md"})]}),(0,m.FD)("div",{style:{whiteSpace:"nowrap"},children:[(0,m.Y)(l.A,{id:"PZGZHV",defaultMessage:"Experiment ID"}),": ",e.experimentId+" ",(0,m.Y)(g,{experiment:e})]}),(0,m.FD)("div",{style:{whiteSpace:"nowrap"},children:[(0,m.Y)(l.A,{id:"8/7V3S",defaultMessage:"Artifact Location"}),": ",(0,m.Y)(h,{artifactLocation:e.artifactLocation})," ",(0,m.Y)(x,{experiment:e})]})]})})})]}),(0,m.Y)(C,{experimentKind:y}),(0,m.FD)("div",{css:(0,i.AH)({display:"flex",gap:_.spacing.sm,justifyContent:"flex-end",marginLeft:_.spacing.sm},""),children:[(0,m.Y)(D.z,{experimentIds:M,searchFacetsState:t,uiState:p}),(0,m.Y)(ne,{experiment:e,setEditing:f,refetchExperiment:E})]})]})]})}));var se={name:"1pzk433",styles:"width:100px"},ae={name:"1s8dw6e",styles:"display:grid;grid-template-columns:1fr 1fr 1fr"};function le(){const{theme:e}=(0,o.u)();return(0,m.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:e.spacing.xs},""),children:[(0,m.Y)(s.ParagraphSkeleton,{css:se,loading:!0}),(0,m.FD)("div",{css:ae,children:[(0,m.Y)(s.TitleSkeleton,{css:(0,i.AH)({width:150,height:e.general.heightSm},""),loading:!0}),(0,m.Y)(s.TitleSkeleton,{css:(0,i.AH)({height:e.general.heightSm,alignSelf:"center"},""),loading:!0}),(0,m.Y)(s.TitleSkeleton,{css:(0,i.AH)({width:e.spacing.lg,height:e.general.heightSm,alignSelf:"right"},""),loading:!0})]})]})}},56364:function(e,n,t){t.d(n,{T:function(){return m}});var i=t(68248),r=t(27757),o=t(79081),s=t(74060),a=t(46709),l=t(40724),d=t(44105),c=t(91944),p=t(73408);const m=({onDismiss:e,onConfirm:n})=>{const{theme:t}=(0,r.u)(),[m,u]=(0,a.useState)(d.Gk.CUSTOM_MODEL_DEVELOPMENT);return(0,p.FD)(o.d,{visible:!0,componentId:"mlflow.experiment_view.header.experiment_kind_inference_modal",onCancel:e,title:(0,p.Y)(l.A,{id:"YqW83+",defaultMessage:"Choose experiment type"}),cancelText:(0,p.Y)(l.A,{id:"B/On/j",defaultMessage:"I'll choose later"}),okText:(0,p.Y)(l.A,{id:"Yx79Vd",defaultMessage:"Confirm"}),onOk:()=>n(m),children:[(0,p.Y)(r.T.Paragraph,{children:(0,p.Y)(l.A,{id:"BEFBcB",defaultMessage:"We support multiple experiment types, each with its own set of features. Please select the type you'd like to use. You can change this later if needed."})}),(0,p.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:t.spacing.sm,marginBottom:t.spacing.sm},""),children:[(0,p.Y)(s.Radio,{checked:m===d.Gk.GENAI_DEVELOPMENT,onChange:()=>u(d.Gk.GENAI_DEVELOPMENT),children:(0,p.Y)(l.A,{...c.UI[d.Gk.GENAI_DEVELOPMENT]})}),(0,p.Y)(s.Radio,{checked:m===d.Gk.CUSTOM_MODEL_DEVELOPMENT,onChange:()=>u(d.Gk.CUSTOM_MODEL_DEVELOPMENT),children:(0,p.Y)(l.A,{...c.UI[d.Gk.CUSTOM_MODEL_DEVELOPMENT]})})]})]})}},60323:function(e,n,t){t.d(n,{f:function(){return M}});var i=t(74060),r=t(27757),o=t(79081),s=t(21678),a=t(76118),l=t(46709),d=t(77680),c=t(40724),p=t(44105),m=t(91944),u=t(68248),h=t(7655),g=t(73408);var x={name:"4bgdod",styles:"display:block;position:relative"},f={name:"1l2g5rl",styles:"position:absolute;left:0;bottom:0;right:0;height:0"},v={name:"82a6rk",styles:"flex:1"},E={name:"1hetg88",styles:"max-width:300px"};const _=({children:e,inferredExperimentKind:n,onConfirm:t,onDismiss:i,isInferredKindEditable:o=!1})=>{const s=(0,h.A)(),{theme:a}=(0,r.u)();return(0,g.FD)("div",{css:x,children:[e,(0,g.FD)(r.aw.Root,{componentId:"mlflow.experiment_view.header.experiment_kind_inference_popover",open:!0,modal:!1,children:[(0,g.Y)(r.aw.Trigger,{asChild:!0,children:(0,g.Y)("div",{css:f})}),(0,g.FD)(r.aw.Content,{css:!0,children:[(0,g.Y)(r.aw.Arrow,{}),(0,g.FD)("div",{css:(0,u.AH)({display:"flex",alignItems:"flex-start",gap:a.spacing.sm},""),children:[(0,g.FD)("div",{css:v,children:[(0,g.Y)(r.T.Paragraph,{css:E,children:(0,g.Y)(c.A,{id:"Jxhb2w",defaultMessage:"We've automatically detected the experiment type to be ''{kindLabel}''. {isEditable, select, true {You can either confirm or change the type.} other {}}",values:{kindLabel:s.formatMessage(m.bf[n]),isEditable:o}})}),(0,g.Y)(r.B,{componentId:"mlflow.experiment_view.header.experiment_kind_inference_popover.confirm",onClick:t,type:"primary",size:"small",children:(0,g.Y)(c.A,{id:"4AkzyD",defaultMessage:"Confirm"})})]}),(0,g.Y)(r.B,{componentId:"mlflow.experiment_view.header.experiment_kind_inference_popover.dismiss",onClick:i,icon:(0,g.Y)(r.C,{}),size:"small"})]})]})]})]})};var Y={name:"1wcfv52",styles:"margin-right:0"};const M=({value:e,inferredExperimentKind:n,onChange:t,isUpdating:o,readOnly:u=!1})=>{const h=(0,l.useMemo)((()=>(0,a.entries)(m.UI).filter((([e])=>(0,m.$g)().includes(e)))),[]),x=(0,l.useMemo)((()=>n?(0,m.q5)(n):(0,s.SK)(p.Gk,e,p.Gk.NO_INFERRED_TYPE)),[e,n]),f=((e,n)=>e===p.Gk.NO_INFERRED_TYPE||e===p.Gk.EMPTY?n?m.UI[p.Gk.NO_INFERRED_TYPE]:(0,d.zR)({id:"eapsJa",defaultMessage:"Select a type"}):m.UI[e])(x,u),[v,E]=(0,l.useState)(!1),[M,y]=(0,l.useState)(Boolean(n&&!u&&(0,m.uk)(n))),I=(0,m.uk)(x)&&!u,k=(0,g.FD)(i.Tag,{icon:o?(0,g.Y)(r.S,{size:"small"}):null,componentId:"mlflow.experiment_view.header.experiment_kind_selector",css:Y,onClick:I?()=>{}:void 0,children:[f&&(0,g.Y)(c.A,{...f})," ",I&&(0,g.Y)(i.ChevronDownIcon,{})]}),T=(0,g.Y)(b,{children:k});if(u)return T;const w=(0,g.FD)(i.DropdownMenu.Root,{modal:!1,open:v,onOpenChange:e=>{y(!1),E(e)},children:[(0,g.Y)(b,{children:(0,g.Y)(i.DropdownMenu.Trigger,{asChild:!0,children:k})}),(0,g.FD)(i.DropdownMenu.Content,{align:"start",children:[(0,g.Y)(i.DropdownMenu.Arrow,{}),(0,g.Y)(i.DropdownMenu.Label,{children:(0,g.Y)(c.A,{id:"vQa9lQ",defaultMessage:"Experiment type"})}),h.map((([e,n])=>{const r=e===x;return(0,g.FD)(i.DropdownMenu.CheckboxItem,{componentId:`mlflow.experiment_view.header.experiment_kind_selector.${e}`,onClick:()=>null===t||void 0===t?void 0:t(e),checked:r,children:[(0,g.Y)(i.DropdownMenu.ItemIndicator,{}),(0,g.Y)(c.A,{...n})]},e)}))]})]});return M&&n?(0,g.Y)(_,{inferredExperimentKind:n,onConfirm:async()=>{n&&(null===t||void 0===t||t((0,m.q5)(n))),y(!1)},onDismiss:()=>y(!1),isInferredKindEditable:(0,m.uk)(x),children:I?w:T}):I?w:T},b=({children:e})=>(0,g.Y)(o.T,{componentId:"mlflow.experiment_view.header.experiment_kind_selector.tooltip",content:(0,g.Y)(c.A,{id:"vQa9lQ",defaultMessage:"Experiment type"}),children:e})},80042:function(e,n,t){t.d(n,{z:function(){return I}});var i=t(27757),r=t(46709),o=t(40724),s=t(79081),a=t(66916),l=t(91701),d=t(73408);var c={name:"490tlg",styles:"display:flex;gap:4px"};const p=({copyText:e})=>(0,d.FD)("div",{css:c,children:[(0,d.Y)(a.I,{componentId:"codegen_mlflow_app_src_shared_building_blocks_copybox.tsx_18",readOnly:!0,value:e,"data-testid":"copy-box"}),(0,d.Y)(l.i,{copyText:e})]}),m=({visible:e,onCancel:n,link:t})=>(0,d.Y)(s.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_getlinkmodal.tsx_21",title:(0,d.Y)(o.A,{id:"ktiuki",defaultMessage:"Get Link"}),visible:e,onCancel:n,children:(0,d.Y)(p,{copyText:t})});var u=t(74060),h=t(56530),g=t(5690),x=t(60284),f=t(63908),v=t(16389),E=t(44105),_=t(31655),Y=t(32667);var M={name:"11jf4ye",styles:"display:flex;gap:8px"},b={name:"82a6rk",styles:"flex:1"};const y=({onCancel:e,visible:n,experimentIds:t,searchFacetsState:i,uiState:c})=>{const[p,m]=(0,r.useState)(""),[y,I]=(0,r.useState)(!0),[k,T]=(0,r.useState)(null),[w]=(0,Y.an)(),A=(0,h.wA)(),S=(0,r.useMemo)((()=>({...i,...c})),[i,c]),R=(0,r.useCallback)((async e=>{if(t.length>1)return I(!1),T(e),void m(window.location.href);I(!0);const[n]=t;try{const t=await(async e=>(0,_.YP)()?(0,f.z7)(JSON.stringify(e)):JSON.stringify(e))(e),i=await(0,f.Xb)(t),r=`${E.o6}${i}`;await A((0,g.EJ)(n,r,t)),I(!1),T(e),m(((e,n,t)=>{const i=x.Ay.getExperimentPageRoute(e),r=new URLSearchParams;r.set(E.ex,n),t&&r.set(Y.b,t);const o=r.toString(),s=`${i}${null!==o&&void 0!==o&&o.startsWith("?")?"":"?"}${o}`;return`${window.location.origin}${window.location.pathname}#${s}`})(n,i,w))}catch(i){throw v.A.logErrorAndNotifyUser("Failed to create shareable link for experiment"),i}}),[A,t,w]);return(0,r.useEffect)((()=>{n&&k!==S&&R(S)}),[n,R,k,S]),(0,d.Y)(s.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_101",title:(0,d.Y)(o.A,{id:"6KFQMl",defaultMessage:"Get shareable link"}),visible:n,onCancel:e,children:(0,d.FD)("div",{css:M,children:[y?(0,d.Y)(u.GenericSkeleton,{css:b}):(0,d.Y)(a.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_115",placeholder:"Click button on the right to create shareable state",value:p,readOnly:!0}),(0,d.Y)(l.i,{loading:y,copyText:p,"data-testid":"share-link-copy-button"})]})})},I=({searchFacetsState:e,uiState:n,experimentIds:t})=>{const[s,a]=(0,r.useState)(!1);return(0,d.FD)(d.FK,{children:[e&&n&&t?(0,d.Y)(y,{searchFacetsState:e,uiState:n,visible:s,onCancel:()=>a(!1),experimentIds:t}):(0,d.Y)(m,{link:window.location.href,visible:s,onCancel:()=>a(!1)}),(0,d.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentviewheadersharebutton.tsx_44",type:"primary",onClick:()=>a(!0),"data-testid":"share-button",children:(0,d.Y)(o.A,{id:"2oFAO4",defaultMessage:"Share"})})]})}},83432:function(e,n,t){t.d(n,{F:function(){return p}});var i=t(46709),r=t(49708),o=t(12803),s=t(76118),a=t(59930),l=t.n(a);var d=t(44105);var c=t(91944);const p=({experimentId:e,isLoadingExperiment:n,enabled:t=!0,experimentTags:a,updateExperimentKind:p})=>{const{containsTraces:m,isLoading:u}=(({experimentId:e,enabled:n})=>{const{data:t,isLoading:i}=(0,r.I)(["EXPERIMENT_CONTAINS_TRACES",e],(async()=>{l()(e,"experimentId is required");const n=[e];return o.x.getExperimentTraces(n,"timestamp_ms DESC",void 0,void 0,1)}),{enabled:n&&Boolean(e)});return{containsTraces:!i&&!(0,s.isEmpty)(null===t||void 0===t?void 0:t.traces),isLoading:i&&n&&Boolean(e)}})({experimentId:e,enabled:t}),[h,g]=(0,i.useState)(!1),{containsRuns:x,isLoading:f}=(({experimentId:e,enabled:n})=>{const{data:t,isLoading:a,error:d}=(0,r.I)(["EXPERIMENT_CONTAINS_TRAINING_RUNS",e],(async()=>{l()(e,"experimentId is required");const n=[e];return await o.x.searchRuns({experiment_ids:n,max_results:1})}),{enabled:Boolean(e)&&n});return{containsRuns:(0,i.useMemo)((()=>!a&&!(0,s.isEmpty)(null===t||void 0===t?void 0:t.runs)),[a,t]),isLoading:a&&n&&Boolean(e)}})({experimentId:e,enabled:t}),v=t&&(n||u||f),E=(0,i.useMemo)((()=>{if(t&&!v&&!h)return m?d.Gk.GENAI_DEVELOPMENT_INFERRED:x?d.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED:d.Gk.NO_INFERRED_TYPE}),[t,h,v,m,x]),_=(0,i.useMemo)((()=>E===d.Gk.GENAI_DEVELOPMENT_INFERRED?d.fM.Traces:E===d.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED?d.fM.Runs:void 0),[E]);return(0,i.useEffect)((()=>{E&&!(0,c.uk)(E)&&p({experimentId:null!==e&&void 0!==e?e:"",kind:E})}),[e,E,p]),{isLoading:v,inferredExperimentKind:E,inferredExperimentPageTab:_,dismiss:()=>g(!0)}}},84561:function(e,n,t){t.d(n,{u:function(){return s}});var i=t(46709),r=t(79081),o=t(73408);class s extends i.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally((()=>{this.props.onClose(),this.setState({isSubmitting:!1})}))}render(){return(0,o.Y)(r.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,o.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}},95328:function(e,n,t){t.d(n,{X:function(){return s}});var i=t(49708),r=t(12803),o=t(46709);const s=({experimentId:e,enabled:n,filter:t})=>{const{data:s,isLoading:a,isFetching:l,refetch:d,error:c}=(0,i.I)({queryKey:["SEARCH_RUNS",e,t],queryFn:async()=>{const n={experiment_ids:[e],order_by:["attributes.start_time DESC"],run_view_type:"ACTIVE_ONLY",filter:t};return r.x.searchRuns(n)},cacheTime:0,refetchOnWindowFocus:!1,retry:!1,enabled:n}),{evaluationRuns:p,trainingRuns:m}=(0,o.useMemo)((()=>null!==s&&void 0!==s&&s.runs?s.runs.reduce(((e,n)=>{var t,i,r;return(null!==(t=null===(i=n.outputs)||void 0===i||null===(r=i.modelOutputs)||void 0===r?void 0:r.length)&&void 0!==t?t:0)?e.trainingRuns.push(n):e.evaluationRuns.push(n),e}),{evaluationRuns:[],trainingRuns:[]}):{evaluationRuns:[],trainingRuns:[]}),[s]);return{data:p,trainingRuns:m,refetch:d,isLoading:a,isFetching:l,error:c}}}}]);